{"version":3,"sources":["components/themes/main.js","components/themes/red.js","components/themes/orange.js","components/themes/green.js","components/themes/darkGreen.js","components/themes/lightGreen.js","config.js","utils.js","components/menus/sideMenu.js","actions/problemActions.js","containers/sideMenu.js","components/menus/topMenu.js","containers/topMenu.js","components/problemAppBar.js","components/badActionsCard.js","components/pages/problemStory.js","components/pages/verbExtract.js","components/pages/pastVerbSelect.js","components/pages/negativeVerbSelect.js","components/pages/transformation.js","components/pages/name.js","components/pages/newName.js","components/pages/pastDomino.js","components/pages/futureDomino.js","components/pages/problemPlanted.js","components/editPage.js","containers/editPage.js","components/solutionCard.js","components/solutionScreen.js","containers/solutionScreen.js","components/problemScreen.js","containers/problemScreen.js","components/welcomeScreen.js","containers/welcomeScreen.js","components/eyeTypeCard.js","components/eyeTypesScreen.js","actions/eyeTypeActions.js","containers/eyeTypesScreen.js","components/app.js","containers/app.js","reducers/problemReducer.js","reducers/eyeTypesReducer.js","reducers/index.js","store.js","index.js"],"names":["Main","props","theme","createMuiTheme","typography","useNextVariants","palette","primary","main","green","secondary","background","paper","text","direction","react_default","a","createElement","styles","children","Red","red","grey","secondaryPaper","Orange","orange","Green","DarkGreen","LightGreen","Config","pages","problem","description","inputText","tab","name","verbExtract","cardHeader","emptyProblem","pastVerbs","negativeVerbs","transformation","newName","pastDomino","futureDomino","problemPlanted","saveMessage","deletedMessage","saveErrorMessage","retrySave","back","next","save","welcomeScreen","header","descriptions","descriptionSignature","myProblemsText","newProblemText","problemScreen","showBookText","editText","deleteText","sendText","shareText","shareUrlPrefix","problemSubject","retryDeleteText","deleteErrorMessage","eyeTypesScreen","headers","color","origin","actions","types","25","image","9","badActions","title","subHeader","sideMenu","newProblem","eyeTypes","myProblems","emptyProblems","errorProblems","retryFetch","solutionScreen","man","hidingConflict","newConflict","costumeConflict","beeing","problemKeyNames","verbs","transformationVerbs","problemType","Utils","joinWithCommas","arr","max","arguments","length","undefined","concat","slice","reduce","acc","i","truncate","str","substring","indexToText","indexes","map","cloneProblem","update","Object","objectSpread","objectToArr","obj","keys","k","cleanArray","actual","newArray","push","nonNewVerbs","filter","v","isValid","key","valid","tVerbs","every","_ref","_ref2","slicedToArray","isValidProblem","transformationSentence","id","problemTypeSentence","problemToText","isWhatsapp","past","negative","b","add","em","problemText","join","problemToTitleText","setItem","value","localStorage","getItem","delay","ms","Promise","res","setTimeout","problemUrl","document","location","process","sitePrefix","SideMenu","state","isOpen","toggleMenu","e","_this","isLoading","setState","problemSelected","onProblemSelected","newProblemSelected","clearDraft","onNewProblemSelected","eyeTypesSelected","onEyeTypesSelected","myProblemsSection","_this2","this","_this$props","classes","problems","problemList","updatedAt","sort","p1","p2","p","onClick","ListItem_default","button","ListItemIcon_default","LibraryBooks_default","ListItemText_default","Date","toDateString","Divider_default","ListSubheader_default","className","subheader","fetchingProblems","CircularProgress_default","progress","thickness","fetchProblemsError","fetchProblems","Refresh_default","sideList","list","List_default","Accessibility_default","Visibility_default","IconButton_default","aria-label","Menu_default","Drawer_default","open","onClose","tabIndex","role","onKeyDown","loading","creatingProblem","updatingProblem","deletingProblem","React","Component","withStyles","width","position","margin-top","margin-right","FETCH_PROBLEMS_PENDING","FETCH_PROBLEMS_FULFILLED","FETCH_PROBLEMS_REJECTED","CREATE_PROBLEM_PENDING","CREATE_PROBLEM_FULFILLED","CREATE_PROBLEM_REJECTED","UPDATE_PROBLEM_PENDING","UPDATE_PROBLEM_FULFILLED","UPDATE_PROBLEM_REJECTED","DELETE_PROBLEM_PENDING","DELETE_PROBLEM_FULFILLED","DELETE_PROBLEM_REJECTED","cleanProblem","forEach","JSON","parse","dispatch","type","payload","rej","then","resolve","catch","reject","createProblem","ids","Number","newId","now","stringify","all","err","updateProblem","changes","deleteProblem","updateDraft","selectDraft","connect","savedProblems","matcher","bindActionCreators","TopMenu","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","onPageSelected","event","icon","IconProblem","IconVerbExtract","IconPastVerb","IconNegativeVerbs","IconTransformation","IconName","IconNewName","IconPastDomino","IconTriangle","draft","selectedPage","firstInvalid","some","page","tabs","TabIcon","disabled","Tab_default","label","Tabs_default","variant","scrollButtons","onChange","draftProblem","ProblemAppBar","onEditorPageSelected","topMenu","editorPage","containers_topMenu","root","AppBar_default","Toolbar_default","appbar","containers_sideMenu","flex","flexGrow","marginTop","height","BadActionsCard","expanded","handleExpandClick","t","Typography_default","paragraph","lightGreen","Card_default","CardHeader_default","CardActions_default","disableActionSpacing","classnames","expand","defineProperty","expandOpen","aria-expanded","ExpandMore_default","Collapse_default","in","timeout","unmountOnExit","CardContent_default","display","transform","marginLeft","transition","transitions","create","duration","shortest","ProblemStory","target","Grid_default","container","item","xs","sm","TextField_default","fullWidth","placeholder","multiline","rows","margin","VerbExtract","onBlur","newVerbs","userProblem","Paper_default","elevation","component","verbItems","Array","fill","Input_default","input","verbList","md","mixins","gutters","paddingTop","paddingBottom","spacing","unit","PastVerbSelect","newPastVerbs","indexPosition","indexOf","splice","verb","ListItemSecondaryAction_default","Checkbox_default","checked","includes","light","text-align","NegativeVerbSelect","newNegativeVerbs","Transformation","replace","Name","NewName","verbArray","PastDomino","FutureDomino","ProblemPlanted","currentValue","EditPage","showSavedMessage","showErrorMessage","saveCurrentProblem","closeSnackbar","isNewProblem","createProblemAndFetch","updateProblemAndFetch","selectedProblemId","_this3","loadingSection","problemStory","showBadActions","pastVerbSelect","negativeVerbSelect","pages_transformation","pages_name","currentPage","isFirstPage","isLastPage","nextEnabled","showSave","align","snackbarMessage","selectedEyeTypes","badActionsCard","components_badActionsCard","mainCard","card","Button_default","saveEnabled","retryButton","errorMessage","size","Snackbar_default","snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","message","action","createProblemError","updateProblemError","min-height","marginBottom","z-index","success","fetchAndSelectDraft","SolutionCard","content","contentPanels","ExpansionPanel_default","ExpansionPanelSummary_default","expandIcon","heading","ExpansionPanelDetails_default","CardMedia_default","media","imageUrl","fontSize","pxToRem","fontWeight","fontWeightRegular","SolutionScreen","manKeys","beeingKeys","textProblem","manTexts","beeingTexts","manCard","solutionCard","beeingCard","darkGreen","ProblemScreen","anchorEl","handleClick","currentTarget","handleClose","onViewProblemClicked","onSolutionSelected","handleEdit","onEditorSelected","handleDelete","deleteAndFetch","onHomeSelected","handleSend","mailBody","subject","lString","window","escape","handleShare","trim","url","menu","aria-owns","aria-haspopup","burger","MoreVert_default","core_Menu_default","Boolean","MenuItem_default","Edit_default","inset","menuItem","DeleteForever_default","Email_default","Share_default","deleteProblemError","common","white","WelcomeScreen","lastLineIndex","desc","EyeTypeCard","isArray","Switch_default","switch","selected","float","EyeTypesScreen","toggleEyeTypeAndFetch","entries","eyeTypeCard","FETCH_SELECTED_EYE_TYPES_PENDING","FETCH_SELECTED_EYE_TYPES_FULFILLED","FETCH_SELECTED_EYE_TYPES_REJECTED","TOGGLE_EYE_TYPE_PENDING","TOGGLE_EYE_TYPE_FULFILLED","TOGGLE_EYE_TYPE_REJECTED","fetchSelectedEyeTypesFullfilled","fetchSelectedEyeTypes","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","stop","_x","apply","toggleEyeType","_callee2","_context2","_x2","_toggleEyeTypeAndFetch","jss","plugins","toConsumableArray","jssPreset","rtl","generateClassName","createGenerateClassName","App","startup","history","editor","_ref3","match","containers_editPage","params","pageNum","mainScreen","Route","path","exact","render","_ref4","containers_welcomeScreen","containers_problemScreen","containers_eyeTypesScreen","containers_solutionScreen","JssProvider_default","HashRouter","_ref5","reg","exec","parseInt","problemAppBar","fetchingEyeTypes","togglingEyeType","defaultDraftProblem","lastProblem","defaultState","newState","SELECT_DRAFT","CLEAR_DRAFT","UPDATE_DRAFT","fetchEyeTypesError","toggleEyeTypeError","toggeleEyeTypeError","combineReducers","middleware","applyMiddleware","logger","thunk","createStore","reducers","ReactDOM","es","store","containers_app","getElementById"],"mappings":"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","file":"static/js/main.c00f3e65.chunk.js","sourcesContent":["import React from 'react';\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport {\n  green\n} from '@material-ui/core/colors';\n\n\nfunction Main(props) {\n  const theme = createMuiTheme({\n    typography: {\n      useNextVariants: true,\n    },\n    palette: {\n      \"primary\": {main: green[900]},\n      \"secondary\": {main: '#ffffff'},\n      \"background\": {\n        \"paper\": green[900]\n      },\n      \"text\": {\n         \"primary\": '#ffffff',\n         \"secondary\":green[100]\n      },\n    },\n    direction: 'rtl',\n  });\n\n  return (\n    <MuiThemeProvider\n      theme={theme} >\n      {props.children}\n    </MuiThemeProvider>\n  );\n};\n\nexport default Main;\n","import React from 'react';\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport {\n  grey,\n  red,\n} from '@material-ui/core/colors';\n\n\nfunction Red(props) {\n  const theme = createMuiTheme({\n    typography: {\n      useNextVariants: true,\n    },\n    palette: {\n      \"primary\": {main: '#ffffff'},\n      \"background\": {\n        \"paper\": red[900]\n      },\n      \"text\": {\n         \"primary\": grey[100]\n       },\n      \"secondaryPaper\": red[200],\n    },\n    direction: 'rtl'\n  });\n\n  return (\n    <MuiThemeProvider\n      theme={theme} >\n      {props.children}\n    </MuiThemeProvider>\n  );\n};\n\nexport default Red;\n","import React from 'react';\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport {\n  orange,\n  grey\n} from '@material-ui/core/colors';\n\n\nfunction Orange(props) {\n  const theme = createMuiTheme({\n    typography: {\n      useNextVariants: true,\n    },\n    palette: {\n      \"primary\":orange,\n      \"background\": {\n        \"paper\": orange[800]\n      },\n      \"text\": {\n         \"primary\": grey[100],\n      },\n    },\n    direction: 'rtl',\n  });\n\n  return (\n    <MuiThemeProvider\n      theme={theme} >\n      {props.children}\n    </MuiThemeProvider>\n  );\n};\n\nexport default Orange;\n","import React from 'react';\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport {\n  green,\n  grey\n} from '@material-ui/core/colors';\n\n\nfunction Green(props) {\n  const theme = createMuiTheme({\n    typography: {\n      useNextVariants: true,\n    },\n    palette: {\n      \"background\": {\n        \"paper\": green[700]\n      },\n      \"text\": {\n         \"primary\": grey[100],\n       },\n       \"primary\": {main: '#ffffff'},\n       \"secondaryPaper\": green[200]\n    },\n    direction: 'rtl'\n  });\n\n  return (\n    <MuiThemeProvider\n      theme={theme} >\n      {props.children}\n    </MuiThemeProvider>\n  );\n};\n\nexport default Green;\n","import React from 'react';\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport {\n  green,\n  grey\n} from '@material-ui/core/colors';\n\n\nfunction DarkGreen(props) {\n  const theme = createMuiTheme({\n    typography: {\n      useNextVariants: true,\n    },\n    palette: {\n      \"background\": {\n        \"paper\": green[900]\n      },\n      \"text\": {\n         \"primary\": grey[100],\n      },\n    },\n    direction: 'rtl'\n  });\n\n  return (\n    <MuiThemeProvider\n      theme={theme} >\n      {props.children}\n    </MuiThemeProvider>\n  );\n};\n\nexport default DarkGreen;\n","import React from 'react';\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport {\n  green\n} from '@material-ui/core/colors';\n\n\nfunction LightGreen(props) {\n  const theme = createMuiTheme({\n    typography: {\n      useNextVariants: true,\n    },\n    palette: {\n      \"background\": {\n        \"paper\": green[100]\n      },\n      \"primary\": {main: '#ffffff'},\n      \"secondary\": {main: '#4caf50'},\n      \"secondaryPaper\": green[200]\n    },\n    direction: 'rtl'\n  });\n\n  return (\n    <MuiThemeProvider\n      theme={theme} >\n      {props.children}\n    </MuiThemeProvider>\n  );\n};\n\nexport default LightGreen;\n","const Config = {\n  pages: {\n    problem: {\n      description: 'כתוב את סיפור הבעיה, הקפד שבסיפור הבעיה יש בין שניים לשישה פעלים. פעולות בסיפור הבעיה הן תמיד סובייקטיביות והן מעולמו הפנימי של האדם.',\n      inputText: 'הבעיה שלי היא ...',\n      tab: {\n        name: 'סיפור הבעיה'\n      }\n    },\n    verbExtract: {\n      description: 'התבונן בסיפור הבעיה, זהה את הפעולות ורשום אותם. במידה ואינך מזהה פעולות בסיפור הבעיה, בחר מילה או מילים משמעותיות בעיניך והפוך אותם לפעולות לדוגמא: מחשבה - ח.ש.ב.',\n      inputText: 'כתוב פועל כאן..',\n      cardHeader: 'סיפור הבעיה',\n      emptyProblem: 'חסר תיאור הבעיה..',\n      tab: {\n        name:'בנק פעולות'\n      }\n    },\n    pastVerbs: {\n      description: 'במידה והינך חש תחושות דומות כמו בעבר לגבי הפעולה סמן את הפעולה כפעולה חוזרת ונשנית. במידה והינך רואה את הפעולה שלפניך כחדשה זהה אותה כפעולה חדשה. במידה והפעולה שלפניך זרה לך לחלוטין זהה אותה כפעולה זרה.',\n      tab: {\n        name: 'סוג הפעולות'\n      }\n    },\n    negativeVerbs: {\n      description: 'פעולה השרדותית היא כל פעולה שהאדם יפרש אותה בהקשר שלילי ולא נוח בעבר בחייו. זהה אילו פעולות הן השרדותיות בחייך.',\n      tab: {\n        name: 'פעולות השרדותיות'\n      }\n    },\n    transformation: {\n      description: 'התבונן בפעולות שרשמת. רשום במקום כל פעולה, פעולה חילופית שלדעתך תניע את השינוי לפתרון.',\n      inputText: 'במקום $..',\n      tab: {\n        name: 'פעולות אתחול'\n      }\n    },\n    name: {\n      description: 'רשום את השם הפרטי שניתן לך ביום הולדתך ושם נוסף אם קיים. נסה לחקור את המשמעות לבחירת השם שניתן לך ורשום זאת. גלה את הקשר בין הפעולות ההשרדותיות לשם הולדתך.',\n      inputText: '',\n      tab: {\n        name: 'שם למסע חיי האדם'\n      }\n    },\n    newName: {\n      description: 'בחר שם פרטי חדש למסע החדש בחייך. התבונן בפעולות האתחול שרשמת, נסה לראות את הקשר בין פעולות האתחול לבין השם החדש שבחרת.',\n      inputText: 'בחר שם חדש..',\n      cardHeader: 'הפעולות שבחרת',\n      tab: {\n        name: 'שם פרטי חדש'\n      }\n    },\n    pastDomino: {\n      description:\"כתוב את ה'דומינו' ממנו הגעת. דו: האם הגעת מזוג הורים ביולוגים או מאמצים עם יחסי 'דו' שולט נשלט? מי: האם נוצרת כ-'מי' אינדיבידואל שאינו משתתף ומשתף את חוויות החיים והאם נמנעה ממך אפשרות הבחירה? נו: האם הגעת ממשפחה, ו/או קהילה בעלת יחסי שולט נשלט, ללא אפשרות בחירה?\",\n      inputText: \"'שולט נשלט' או 'חופשי'..\",\n      tab: {\n        name: 'דו מי נו'\n      }\n    },\n    futureDomino: {\n      description: \"מי דו נו - מי אני רוצה להיות בהווה ובעתיד? מי: הוא התוצר האינדיבידואל של ה 'דו מי נו' של שותפות וקהילה. איזה סוג של 'מי' אתה כרגע ואיזה סוג של 'מי' אתה שואף להיות. דו: איזה סוג של יחסים אתה יוצר, שולט נשלט או חופשי. האם אתה רוצה לשנות את הזוגיות, שותפות, או כל סוג של יחסים דואליים בחייך, ולחיות ביחסי-גומלין עם מטרה נעלה כשהתהליכים למטרה הם החשובים ולא מי הוא השולט או הנשלט בשותפות. נו: איזו משפחה, קהילה או קבוצה תרצה ליצור בחייך, שולט נשלט או חופשי.\",\n      inputText: \"'שולט נשלט' או 'חופשי'..\",\n      tab: {\n        name: 'מי דו נו'\n      }\n    },\n    problemPlanted : {\n      description:\"זהה את הפעולות החוזרות והנשנות בסיפור הבעיה. שנה והחלף אותם בפעולות אתחול בזמן עתיד. השאר את הפעולות החדשות ו/או הזרות לסיפור הפתרון. בטל את מילות השלילה אם קיימות כאלה והוסף מילות קישור ו/או יחס אם יש צורך על מנת שסיפור הפתרון יהפוך למשפט ברור עבורך. במידה ויש מילים שהפכת אותן לפעולות, הפוך אותן חזרה לשם תואר בהתאם.\",\n      cardHeader: 'פעולות האתחול',\n      tab: {\n        name: 'סיפור הפתרון'\n      }\n    },\n    saveMessage: \"נשמר\",\n    deletedMessage: \"נמחק\",\n    saveErrorMessage: \"אופס..לא הצלחנו לשמור את הבעיה :\",\n    retrySave: \"נסה שוב\",\n    back: \"חזור\",\n    next: \"הבא\",\n    save: \"שמור\"\n  },\n  welcomeScreen: {\n    header: \"טכניקת הפעולות והפתרון\",\n    descriptions: [\"בעיה היא מקום מוכר ונוח להיות בו כי פתרון דורש שינוי.\", \"הפתרון מגיע עם הבשלות להחלפת הפעולות.\", \"אירידיוסופיה® 2017\"],\n    descriptionSignature: \"ד\\\"ר שלומית תמיר Ph.D\",\n    myProblemsText: \"הבעיות שלי\",\n    newProblemText: \"בעיה חדשה\"\n  },\n  problemScreen: {\n    showBookText: \"צפה\",\n    editText: \"ערוך\",\n    deleteText: \"מחק\",\n    sendText: \"שלח\",\n    shareText: \"שתף\",\n    shareUrlPrefix: \"נוצר עם\",\n    problemSubject: \"הבעיה של\",\n    retryDeleteText: \"נסה שוב\",\n    deleteErrorMessage: \"אופס..לא הצלחנו למחוק את הבעיה :\"\n  },\n  eyeTypesScreen: {\n    headers: {\n      color: \"צבע\",\n      origin: \"מקור/איפיון הקבוצה אליה שייך האדם, אבולוציה.\",\n      actions: \"דרכי פעולות אבולוציוניות/מחסירות.\"\n    },\n    types:{\n      25: {\n        name: \"נגזרת פרח\",\n        color: \"חום או כחול\",\n        description: \"סיבים פתוחים היוצרים חללים דמויי פרח.\",\n        origin: \"תקופת האבן יוצרים ואומנים.\",\n        actions: [\"א.ה.ב\", \"א.מ.ן\", \"ב.ט.ח\", \"ב.ח.ר\", \"ה.ו.ה\", \"ה.ק.ל\", \"ז.כ.ר\", \"ז.מ.ן\", \"ח.ב.ר\", \"ח.ז.ק\", \"ח.מ.ץ\", \"ל.ק.ח\", \"ע.ד.ד\", \"ע.צ.ם\", \"ר.ג.ש\", \"ת.מ.ך\"],\n        image: \"cardBgrd.jpg\",\n      },\n      9: {\n        name: \"נגזרת קטיפתית\",\n        color: \"חום\",\n        description: \"קטיפתי\",\n        origin:\"נוודים\",\n        image: \"cardBgrd.jpg\",\n        actions: [\"א.ב.ד\", \"א.ה.ב\", \"א.ח.ד\", \"א.כ.ל\", \"ב.ט.ח\", \"ג.ב.ל\", \"ג.ש.ם\", \"ה.ר.ס\", \"ז.מ.ן\", \"ח.ב.ר\", \"ח.ו.ה\", \"ח.ל.ק\", \"י.ח.ד\", \"כ.א.ב\", \"כ.ע.ס\", \"ל.מ.ד\", \"ל.ק.ח\", \"מ.ח.ל\", \"מ.מ.ש\", \"מ.צ.א\", \"נ.ח\", \"נ.ע\", \"ס.י.ע\", \"ס.ל.ח\", \"ע.כ.ל\", \"פ.ס.ק\", \"ק.ה.ל\", \"ק.נ.א\", \"ק.נ.ה\", \"ק.ר.ב\", \"ר.ב\", \"ר.ג.ש\", \"ר.ו.ה\", \"ר.ח.ב\", \"ר.ע.ש\", \"ש.כ.ל\", \"ש.ת.ף\", \"ת.מ.ך\"]\n      }\n    }\n  },\n  badActions: {\n    title: \"פעולות אבולוציוניות*\",\n    subHeader: \"פעולות מחסירות (למתקדמים).\",\n    description:\"זהה אם בחרת באותם דרכי הפעולה המחסירות בסיפור הבעיה. אם כן כתוב והחלף את הפעולה המחסירה לפעולה אחרת בסיפור הבעיה. במידה וברצונך להשאיר את אותה פעולה, השאר.\"\n  },\n  sideMenu: {\n    newProblem: \"בעיה חדשה\",\n    eyeTypes: \"קשתיות\",\n    myProblems: \"הבעיות שלי\",\n    emptyProblems: \"כרגע הכל דבש, אין בעיות..\",\n    errorProblems: \"שגיאה בטעינת הבעיות :\",\n    retryFetch: \"נסה שוב\"\n  },\n  solutionScreen: {\n    man: {\n      header: \"פס PORT\",\n      subHeader: \"דרכון מסע העבר\",\n      description: \"דרכון זה מאגד בתוכו את בחירת מסעותיך מתוך התת מודע של עברך ומרמז על הקשר בין מסעותיך ובחירותיך מתוך הדנ'א של השרשרת הדורית אליה הנך שייך.\",\n      hidingConflict: \"קונפליקט מתחבא: זהו קונפליקט שיש בו פעולות חוזרות ונשנות מהעבר ופעולה או פעולות חדשות ללא קשר לסיפור הבעיה.\",\n      newConflict: \"קונפליקט דג או חדש: קונפליקט דג הוא קונפליקט שיש בו פעולה זרה אחת לפחות. הפעולה זרה היות והיא דגה אותך לעולם אחר הזר מעולמך האישי. קונפליקט חדש הוא קונפליקט שיש בו אך ורק פעולות חדשות. פעולות חדשות אלו הן פעולות שלא היו בשימושך בעבר והן אינן זרות לעולמך הפנימי. קונפליקט חדש הוא הפתרון לדפוסים הישנים שהכילו את הפעולות מן העבר (פעולות חוזרות ונשנות).\",\n      costumeConflict: \"קונפליקט בתחפושת: זהו קונפליקט שיש בו פעולות חוזרות ונשנות מן העבר ללא קשר לסיפור הבעיה שהאדם חווה. לפנייך הזדמנות נוספת לטפל בפעולות מן העבר ולהגיע לפתרון.\"\n    },\n    beeing :{\n      header: \"פס PORT\",\n      subHeader: \"חידוש דרכון\",\n      description: \"גלה והבן את דרכך אל העתיד. בידך דרכון המראה את השינוי העתידי של מסעותייך, בחייך החדשים.\"\n    },\n    problemKeyNames: {\n      description:\"סיפור הבעיה\",\n      verbs: \"בנק פעולות\",\n      transformationVerbs: \"פעולות אתחול\",\n      negativeVerbs: \"פעולות אבולוציוניות\",\n      name: \"שם למסע חיי האדם\",\n      newName: \"שם פרטי חדש\",\n      pastDomino: \"מקומי מהעבר? דו מי נו\",\n      futureDomino: \"מי אני רוצה להיות? מי דו נו\",\n      problemType: \"סוג קונלפיקט\",\n      problemPlanted: 'סיפור הפתרון'\n    }\n  }\n}\n\nexport default Config;\n","import Config from './config';\n\nconst Utils = {\n  joinWithCommas: (arr, max = undefined) => {\n    if (max) {\n      return `${arr.slice(0, max).reduce((acc, i) => `${acc}, ${i}`)} ..`;\n    } else {\n      return (arr.length && arr.reduce((acc, i) => `${acc}, ${i}`)) || '';\n    }\n  },\n  truncate: (str, length) => {\n    if (str.length > length) {\n      return `${str.substring(0, length)} ..`;\n    } else {\n      return str;\n    }\n  },\n  indexToText: (indexes, verbs) => {\n    return indexes.length ? Utils.joinWithCommas(indexes.map(i => verbs[i])) : \"\";\n  },\n  cloneProblem: (problem, update = {}) => {\n    return {\n      ...problem,\n      verbs: problem.verbs.slice(0),\n      pastVerbs: problem.pastVerbs.slice(0),\n      negativeVerbs: problem.negativeVerbs.slice(0),\n      transformationVerbs: {\n        ...problem.transformationVerbs\n      },\n      ...update\n    };\n  },\n  objectToArr: (obj) => {\n    return Object.keys(obj).map(k => obj[k]);\n  },\n  cleanArray: (actual) => {\n    var newArray = [];\n    for (var i = 0; i < actual.length; i++) {\n      if (actual[i]) {\n        newArray.push(actual[i]);\n      }\n    }\n    return newArray;\n  },\n  nonNewVerbs: (problem) => {\n    return problem.pastVerbs.map(i => [problem.verbs[i], i]).filter(v => !!v[0]);\n  },\n  isValid: (problem, key) => {\n    const valid = {\n      description: () => !!problem.description,\n      verbs: () => !!Utils.cleanArray(problem.verbs).length,\n      pastVerbs: () => true,\n      negativeVerbs: () => true,\n      transformationVerbs: () => {\n        if (!problem.pastVerbs.length) return true;\n        const tVerbs = problem.transformationVerbs;\n        const oldVerbs = Utils.nonNewVerbs(problem);\n        return oldVerbs.every(([v, i]) => !(v && !tVerbs[i]));\n      },\n      name: () => !!problem.name,\n      newName: () => !!problem.newName,\n      pastDomino: () => !!problem.pastDomino,\n      futureDomino: () => !!problem.futureDomino,\n      problemPlanted: () => true\n    }[key];\n    return valid !== undefined ? valid() : true\n  },\n  isValidProblem: (problem) => {\n    return Object.keys(problem).every(k => Utils.isValid(problem, k));\n  },\n  transformationSentence: (problem) => {\n    const tVerbs = problem.transformationVerbs;\n    const transformationVerbs = Object.keys(tVerbs).reduce((acc, id) => (\n      acc = `${acc}${acc ? ', ' : ''}${problem.transformationVerbs[id]} (במקום ${problem.verbs[id]})`\n    ), \"\");\n    return transformationVerbs;\n  },\n  problemTypeSentence: (problem) => {\n    if(problem.verbs.length === problem.pastVerbs.length) {\n      return Config.solutionScreen.man.costumeConflict\n    } else if (problem.pastVerbs.length === 0) {\n      return Config.solutionScreen.man.newConflict\n    } else {\n      return Config.solutionScreen.man.hidingConflict\n    }\n  },\n  problemToText: (problem, isWhatsapp=false) => {\n    Utils.transformationSentence(problem);\n    const past = problem.pastVerbs.reduce((acc,i) => (\n      acc = `${acc}${acc ? ', ' : ''}${problem.verbs[i]}`\n    ), \"\");\n    const negative = problem.negativeVerbs.reduce((acc,i) => (\n      acc = `${acc}${acc ? ', ' : ''}${problem.verbs[i]}`\n    ), \"\");\n    const { pages } = Config;\n    const b = isWhatsapp ? '*' : '';\n    const add = em => isWhatsapp ? `${em} *` : '';\n\n    let problemText = `${add('❓')}${pages.problem.tab.name}:${b}\\n${problem.description}\\n\\n`;\n    problemText += `${add('🛒')}${pages.verbExtract.tab.name}:${b}\\n${problem.verbs.join(', ')}\\n\\n`;\n    problemText += `${add('🔋')}${pages.pastVerbs.tab.name}:${b}\\n${past}\\n\\n`;\n    problemText += `${add('🐞')}${pages.negativeVerbs.tab.name}:${b}\\n${negative}\\n\\n`;\n    problemText += `${add('🚀')}${pages.transformation.tab.name}:${b}\\n${Utils.transformationSentence(problem)}\\n\\n`;\n    problemText += `${add('🧗')}${pages.name.tab.name}:${b}\\n${problem.name}\\n\\n`;\n    problemText += `${add('👥')}${pages.newName.tab.name}:${b}\\n${problem.newName}\\n\\n`;\n    problemText += `${add('☮')}${pages.pastDomino.tab.name}:${b}\\n${problem.pastDomino}\\n\\n`;\n    problemText += `${add('🔼')}${pages.futureDomino.tab.name}:${b}\\n${problem.futureDomino}\\n\\n`;\n    problemText += `${add('🔆')}${pages.problemPlanted.tab.name}:${b}\\n${problem.problemPlanted}\\n\\n`;\n    return problemText;\n  },\n  problemToTitleText: (problem) => {\n    return `${Config.problemScreen.problemSubject} ${problem.name}`;\n  },\n  setItem: (key, value) => localStorage.setItem(key, value),\n  getItem: key => localStorage.getItem(key),\n  delay: ms => new Promise(res => setTimeout(res, ms)),\n  problemUrl: `${document.location.origin}/${process.env.REACT_APP_SITE_PATH}`,\n  sitePrefix: process.env.REACT_APP_SITE_PATH ? `/${process.env.REACT_APP_SITE_PATH}/` : ''\n}\n\nexport default Utils;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport ListItemText from '@material-ui/core/ListItemText'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItem from '@material-ui/core/ListItem'\nimport List from '@material-ui/core/List'\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport Divider from '@material-ui/core/Divider';\nimport Accessibility from '@material-ui/icons/Accessibility';\nimport Visibility from '@material-ui/icons/Visibility';\nimport LibraryBooks from '@material-ui/icons/LibraryBooks';\nimport Refresh from '@material-ui/icons/Refresh';\nimport Config from '../../config';\nimport Utils from '../../utils';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst styles = theme => ({\n  list: {\n    width: 250\n  },\n  subheader: {\n    position: 'static'\n  },\n  progress: {\n    'margin-top': '10px',\n    'margin-right': '100px',\n  },\n});\n\nclass SideMenu extends React.Component {\n  state = {\n    isOpen: false\n  }\n\n  toggleMenu = (e, i) => {\n    if (this.isLoading) return;\n    this.setState({isOpen: !this.state.isOpen});\n  }\n\n  problemSelected = (id) => {\n    this.props.onProblemSelected(id);\n  }\n\n  newProblemSelected = () => {\n    this.props.clearDraft();\n    this.props.onNewProblemSelected();\n  }\n\n  eyeTypesSelected = () => {\n    this.props.onEyeTypesSelected();\n  }\n\n  get isLoading () {\n    let loading = this.props.creatingProblem || this.props.updatingProblem;\n    loading = loading || this.props.deletingProblem || this.props.fetchingProblems;\n    return loading;\n  }\n\n  render() {\n    const { classes, problems } = this.props;\n    const sortedProblems = Object.keys(problems || {}).map(id => ({\n        problem: this.props.problems[id],\n        id: id,\n        updatedAt: this.props.problems[id].updatedAt\n      })).sort((p1, p2) => p1.updatedAt >= p2.updatedAt ? -1 : 1);\n    const problemList = sortedProblems.map(p => {\n      const problem = p.problem;\n      const id = p.id;\n      return (\n        <div key={id} onClick={() => {this.problemSelected(id)}}>\n          <ListItem button>\n            <ListItemIcon>\n              <LibraryBooks/>\n            </ListItemIcon>\n            <ListItemText\n              primary={Utils.truncate(problem.description, 15)}\n              secondary={new Date(problem.updatedAt).toDateString()}\n            />\n          </ListItem>\n          <Divider />\n        </div>\n      );\n    });\n\n    // Problems fetched ok\n    let myProblemsSection;\n    if (problemList.length) {\n      myProblemsSection = (\n        <div>\n          <ListSubheader className={classes.subheader}>\n            {Config.sideMenu.myProblems}\n          </ListSubheader>\n          {problemList}\n        </div>\n      );\n    } else {\n      myProblemsSection = (\n        <ListSubheader>{Config.sideMenu.emptyProblems}</ListSubheader>\n      );\n    }\n    // Loading problems\n    if(this.props.fetchingProblems) {\n      myProblemsSection = (\n          <CircularProgress\n            className={classes.progress}\n            thickness={5}\n            color=\"primary\"\n          />\n      );\n    }\n    // Error\n    else if (this.props.fetchProblemsError) {\n      myProblemsSection = (\n        <div>\n          <ListSubheader>{Config.sideMenu.errorProblems}</ListSubheader>\n          <ListSubheader>{this.props.fetchProblemsError}</ListSubheader>\n          <div onClick={this.props.fetchProblems}>\n            <ListItem button>\n              <ListItemIcon>\n                <Refresh/>\n              </ListItemIcon>\n              <ListItemText primary={Config.sideMenu.retryFetch} />\n            </ListItem>\n            <Divider />\n          </div>\n        </div>\n      );\n    }\n\n    const sideList = (\n     <div className={classes.list}>\n       <List>\n         <ListItem button onClick={this.newProblemSelected}>\n           <ListItemIcon>\n             <Accessibility />\n           </ListItemIcon>\n           <ListItemText primary={Config.sideMenu.newProblem}/>\n         </ListItem>\n         <ListItem button onClick={this.eyeTypesSelected}>\n           <ListItemIcon>\n             <Visibility />\n           </ListItemIcon>\n           <ListItemText primary={Config.sideMenu.eyeTypes}/>\n         </ListItem>\n         {myProblemsSection}\n       </List>\n     </div>\n   );\n\n   return (\n     <IconButton\n       color=\"inherit\"\n       aria-label=\"Menu\"\n       onClick={this.toggleMenu}\n     >\n       <MenuIcon/>\n       <Drawer\n         open={this.state.isOpen}\n         onClose={this.toggleMenu}\n       >\n         <div\n           tabIndex={0}\n           role=\"button\"\n           onClick={this.toggleMenu}\n           onKeyDown={this.toggleMenu}\n         >\n           {sideList}\n         </div>\n       </Drawer>\n     </IconButton>\n    );\n  }\n}\n\nSideMenu.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(SideMenu);\n","import Utils from '../utils';\nexport const FETCH_PROBLEMS_PENDING = 'FETCH_PROBLEMS_PENDING';\nexport const FETCH_PROBLEMS_FULFILLED = 'FETCH_PROBLEMS_FULFILLED';\nexport const FETCH_PROBLEMS_REJECTED = 'FETCH_PROBLEMS_REJECTED';\nexport const CREATE_PROBLEM_PENDING = 'CREATE_PROBLEM_PENDING';\nexport const CREATE_PROBLEM_FULFILLED = 'CREATE_PROBLEM_FULFILLED';\nexport const CREATE_PROBLEM_REJECTED = 'CREATE_PROBLEM_REJECTED';\nexport const UPDATE_PROBLEM_PENDING = 'UPDATE_PROBLEM_PENDING';\nexport const UPDATE_PROBLEM_FULFILLED = 'UPDATE_PROBLEM_FULFILLED';\nexport const UPDATE_PROBLEM_REJECTED = 'UPDATE_PROBLEM_REJECTED';\nexport const DELETE_PROBLEM_PENDING = 'DELETE_PROBLEM_PENDING';\nexport const DELETE_PROBLEM_FULFILLED = 'DELETE_PROBLEM_FULFILLED';\nexport const DELETE_PROBLEM_REJECTED = 'DELETE_PROBLEM_REJECTED';\nexport const UPDATE_DRAFT = 'UPDATE_DRAFT';\nexport const SELECT_DRAFT = 'SELECT_DRAFT';\nexport const CLEAR_DRAFT = 'CLEAR_DRAFT';\n\n/*\n * Utils :\n */\n\nconst cleanProblem = (problem) => {\n  problem.verbs = Utils.cleanArray(problem.verbs);\n  Object.keys(problem.transformationVerbs).forEach(i => {\n    if (i >= problem.verbs.length) {\n      delete(problem.transformationVerbs[i]);\n    }\n  });\n}\n\n/*\n * Problem Actions :\n */\n\nexport function fetchProblemsPending() {\n  return {\n    type: FETCH_PROBLEMS_PENDING,\n    payload: null\n  };\n}\n\nexport function fetchProblemsFullfilled(problems) {\n  return {\n    type: FETCH_PROBLEMS_FULFILLED,\n    payload: problems\n  };\n}\n\nexport function fetchProblemsRejected(error) {\n  return {\n    type: FETCH_PROBLEMS_REJECTED,\n    payload: error\n  };\n}\n\nexport function fetchProblems() {\n  let problems = Utils.getItem('problems');\n  problems = (problems && JSON.parse(problems)) || {};\n\n  return (dispatch) => {\n      dispatch(fetchProblemsPending());\n      const p = new Promise((res, rej) => {\n        setTimeout(() => res(problems), 500);\n        // rej(new Error('USER_LOGGED_OUT'));\n      })\n      .then(res => {\n        dispatch(fetchProblemsFullfilled(res));\n      })\n      .then(() => (\n        Promise.resolve()\n      ))\n      .catch(e => {\n        dispatch(fetchProblemsRejected(e));\n        return e;\n      }).then(e => (\n        !e ? Promise.resolve() : Promise.reject(e)\n      ));\n      return p;\n  };\n};\n\nexport function createProblemPending() {\n  return {\n    type: CREATE_PROBLEM_PENDING,\n    payload: null\n  };\n}\n\nexport function createProblemFullfilled(problems) {\n  return {\n    type: CREATE_PROBLEM_FULFILLED,\n    payload: problems\n  };\n}\n\nexport function createProblemRejected(error) {\n  return {\n    type: CREATE_PROBLEM_REJECTED,\n    payload: error\n  };\n}\n\nexport function createProblem(problem) {\n  let problems = Utils.getItem('problems');\n  problems = (problems && JSON.parse(problems)) || {};\n  const ids = Object.keys(problems).map(id => Number(id)).sort();\n  const newId = ((ids.length && ids[ids.length -1]) || 0) + 1;\n  problems[newId] = { ...problem, updatedAt: Date.now() };\n  cleanProblem(problems[newId])\n\n  return (dispatch) => {\n    dispatch(createProblemPending());\n    const p = new Promise((res, rej) => {\n      setTimeout(() => {\n        Utils.setItem('problems', JSON.stringify(problems));\n        // rej(new Error('USER_LOGGED_OUT'));\n        res(newId);\n      }, 500);\n    })\n    .then(res => (\n      Promise.all([null, res, dispatch(createProblemFullfilled(res))])\n    ))\n    .catch(e => {\n      dispatch(createProblemRejected(e));\n      return [e, null];\n    })\n    .then(([err, newId]) => (\n      !err ? Promise.resolve(newId) : Promise.reject(err)\n    ));\n    return p;\n  };\n};\n\nexport function updateProblemPending() {\n  return {\n    type: UPDATE_PROBLEM_PENDING,\n    payload: null\n  };\n}\n\nexport function updateProblemFullfilled(problem) {\n  return {\n    type: UPDATE_PROBLEM_FULFILLED,\n    payload: problem\n  };\n}\n\nexport function updateProblemRejected(error) {\n  return {\n    type: UPDATE_PROBLEM_REJECTED,\n    payload: error\n  };\n}\n\nexport function updateProblem(id, changes) {\n  const problems = JSON.parse(Utils.getItem('problems'));\n  problems[id] = {\n    ...problems[id],\n    ...changes,\n    updatedAt: Date.now()\n  };\n  cleanProblem(problems[id])\n\n  return (dispatch) => {\n    dispatch(updateProblemPending());\n    const p = new Promise((res, rej) => {\n      setTimeout(() => {\n        Utils.setItem('problems', JSON.stringify(problems));\n        // rej(new Error('USER_LOGGED_OUT'));\n        res();\n      }, 500);\n    })\n    .then(() => (\n      dispatch(updateProblemFullfilled())\n    )).then(() => (\n      Promise.resolve()\n    )).catch(e => {\n      dispatch(updateProblemRejected(e));\n      return e;\n    })\n    .then(e => (\n      !e ? Promise.resolve() : Promise.reject(e)\n    ));\n    return p;\n  };\n};\n\nexport function deleteProblemPending() {\n  return {\n    type: DELETE_PROBLEM_PENDING,\n    payload: null\n  };\n}\n\nexport function deleteProblemFullfilled(problems) {\n  return {\n    type: DELETE_PROBLEM_FULFILLED,\n    payload: problems\n  };\n}\n\nexport function deleteProblemRejected(error) {\n  return {\n    type: DELETE_PROBLEM_REJECTED,\n    payload: error\n  };\n}\n\nexport function deleteProblem(id) {\n  const problems = JSON.parse(Utils.getItem('problems'));\n  delete(problems[id]);\n\n  return (dispatch) => {\n    dispatch(deleteProblemPending());\n    const p = new Promise((res, rej) => {\n      setTimeout(() => {\n        // rej(new Error('USER_LOGGED_OUT'));return;\n        Utils.setItem('problems', JSON.stringify(problems));\n        res();\n      }, 500);\n    })\n    .then(() => (\n      dispatch(deleteProblemFullfilled())\n    )).then(() => (\n      Promise.resolve()\n    )).catch(e => {\n      dispatch(deleteProblemRejected(e));\n      return e;\n    })\n    .then(e => (\n      !e ? Promise.resolve() : Promise.reject(e)\n    ));\n    return p;\n  };\n};\n\n/*\n * Draft Actions :\n */\n\nexport function updateDraft(changes) {\n  return {\n    type: 'UPDATE_DRAFT',\n    payload: changes\n  };\n};\n\nexport function selectDraft(id) {\n  return {\n    type: 'SELECT_DRAFT',\n    payload: id\n  };\n};\n\nexport function clearDraft(id) {\n  return {\n    type: 'CLEAR_DRAFT',\n    payload: id\n  };\n};\n","import SideMenu from '../components/menus/sideMenu';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport {\n  clearDraft,\n  fetchProblems\n} from '../actions/problemActions';\n\nconst mapStateToProps = (state) => {\n  return {\n    problems: state.problems.savedProblems,\n    fetchingProblems: state.problems.fetchingProblems,\n    fetchProblemsError: state.problems.fetchProblemsError,\n    creatingProblem: state.problems.creatingProblem,\n    updatingProblem: state.problems.updatingProblem,\n    deletingProblem: state.problems.deletingProblem\n  };\n};\n\nconst matchDispatchToProps = (dispatch) => {\n  const matcher = bindActionCreators({\n    clearDraft\n  }, dispatch);\n  \n  return {\n    ...matcher,\n    fetchProblems: () => {\n      // override just to catch rejects we don't really care\n      // here since there are no folowwing actions to take..\n      return dispatch(fetchProblems()).catch(e => {});\n    }\n  }\n};\n\nexport default connect(mapStateToProps, matchDispatchToProps)(SideMenu);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport IconPastVerb from '@material-ui/icons/Iso';\nimport IconProblem from '@material-ui/icons/Help';\nimport IconVerbExtract from '@material-ui/icons/AddShoppingCart';\nimport IconNegativeVerbs from '@material-ui/icons/BugReport';\nimport IconTransformation from '@material-ui/icons/PowerSettingsNew';\nimport IconName from '@material-ui/icons/TrendingUp';\nimport IconNewName from '@material-ui/icons/Group';\nimport IconPastDomino from '@material-ui/icons/FilterVintage';\nimport IconTriangle from '@material-ui/icons/ChangeHistory';\nimport Config from '../../config';\nimport Utils from '../../utils';\n\nconst styles = theme => ({\n  tabs: {\n    direction: 'ltr'\n  }\n});\n\nclass TopMenu extends React.Component {\n  constructor(props) {\n    super(props);\n    this.pages = [\n      {name: 'problem', icon: IconProblem, key: 'description'},\n      {name: 'verbExtract', icon: IconVerbExtract, key: 'verbs'},\n      {name: 'pastVerbs', icon: IconPastVerb, key: 'pastVerbs'},\n      {name: 'negativeVerbs', icon: IconNegativeVerbs, key: 'negativeVerbs'},\n      {name: 'transformation', icon: IconTransformation, key: 'transformationVerbs'},\n      {name: 'name', icon: IconName, key: 'name'},\n      {name: 'newName', icon: IconNewName, key: 'newName'},\n      {name: 'pastDomino', icon: IconPastDomino, key: 'pastDomino'},\n      {name: 'futureDomino', icon: IconTriangle, key: 'futureDomino'},\n      {name: 'problemPlanted', icon: IconTransformation, key: 'problemPlanted'},\n    ];\n  }\n\n  componentWillMount() {\n    if (!this.props.draft && this.selectedPage !== 0) {\n        this.props.onPageSelected(0);\n    }\n  }\n\n  onPageSelected = (event, value) => {\n    this.props.onPageSelected(value);\n  }\n\n  render() {\n    if(!this.props.draft) return null;\n    const { classes } = this.props;\n    let firstInvalid;\n    this.pages.some((page, i) => {\n      firstInvalid = i;\n      return !Utils.isValid(this.props.draft, this.pages[i].key);\n    });\n\n    const tabs = this.pages.map((page, i) => {\n      const TabIcon = page.icon;\n      const disabled = i > firstInvalid;\n      return (\n        <Tab\n          key={Config.pages[page.name].tab.name}\n          label={Config.pages[page.name].tab.name}\n          icon={<TabIcon className={classes.icon}/>}\n          disabled={disabled}\n        />\n      );\n    });\n\n    return (\n      <Tabs\n        className={classes.tabs}\n        variant=\"scrollable\"\n        scrollButtons=\"auto\"\n        value={this.props.selectedPage}\n        onChange={this.onPageSelected}\n      >\n        {tabs}\n      </Tabs>\n    );\n  }\n}\n\nTopMenu.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(TopMenu);\n","import TopMenu from '../components/menus/topMenu';\nimport { connect } from 'react-redux';\n\nconst mapStateToProps = (state) => {\n  return {\n    draft: state.problems.draftProblem\n  };\n};\n\nexport default connect(mapStateToProps)(TopMenu);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport SideMenuContainer from '../containers/sideMenu';\nimport TopMenuContainer from '../containers/topMenu';\n\nconst styles = theme => ({\n  root: {\n    flex: {\n      flex:1\n    },\n    flexGrow: 1,\n    width: '100%',\n    marginTop: '32px'\n  },\n  appbar: {\n    height: '72px'\n  }\n});\n\nclass ProblemAppBar extends React.Component {\n  onNewProblemSelected = () => {\n    this.props.onNewProblemSelected();\n  }\n\n  onEyeTypesSelected = () => {\n    this.props.onEyeTypesSelected();\n  }\n\n  onProblemSelected = (id) => {\n    this.props.onProblemSelected(id);\n  }\n\n  onEditorPageSelected = (event, value) => {\n    this.props.onEditorPageSelected(event, value)\n  }\n\n  render() {\n    const { classes, editorPage } = this.props;\n    let topMenu;\n    if (editorPage !== undefined && editorPage !== null) {\n      topMenu = (\n        <TopMenuContainer\n          selectedPage={editorPage}\n          onPageSelected={this.onEditorPageSelected}\n        />\n      );\n    }\n\n    return (\n      <div className={classes.root}>\n        <AppBar position=\"fixed\">\n          <Toolbar className={classes.appbar}>\n              <SideMenuContainer\n                onProblemSelected={this.onProblemSelected}\n                onEyeTypesSelected={this.onEyeTypesSelected}\n                onNewProblemSelected={this.onNewProblemSelected}\n              />\n            {topMenu}\n          </Toolbar>\n        </AppBar>\n      </div>\n    );\n  }\n}\n\nProblemAppBar.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(ProblemAppBar);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport Collapse from '@material-ui/core/Collapse';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Utils from '../utils';\nimport {LightGreen} from '../components/themes';\nimport Config from '../config';\n\nconst styles = theme => ({\n  actions: {\n    display: 'flex',\n  },\n  expand: {\n    transform: 'rotate(0deg)',\n    marginLeft: 'auto',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.shortest,\n    }),\n  },\n  expandOpen: {\n    transform: 'rotate(180deg)',\n  },\n});\n\nclass BadActionsCard extends React.Component {\n  state = { expanded: false };\n\n  handleExpandClick = () => {\n    this.setState(state => ({ expanded: !state.expanded }));\n  };\n\n  render() {\n    const { classes } = this.props;\n    const badActions = this.props.eyeTypes.map(t => (\n      <div key={t.name}>\n        <Typography paragraph>{t.name}</Typography>\n        <Typography paragraph>\n          {Utils.joinWithCommas(t.actions)}\n        </Typography>\n      </div>\n    ));\n\n    return (\n      <LightGreen>\n        <Card>\n          <CardHeader\n            title={Config.badActions.title}\n            subheader={Config.badActions.subHeader}\n          />\n          {/*<CardContent>*/}\n            {/*<Typography component=\"p\">*/}\n              {/*{Config.badActions.description}*/}\n            {/*</Typography>*/}\n          {/*</CardContent>*/}\n          <CardActions className={classes.actions} disableActionSpacing>\n            <IconButton\n              className={classnames(classes.expand, {\n                [classes.expandOpen]: this.state.expanded,\n              })}\n              onClick={this.handleExpandClick}\n              aria-expanded={this.state.expanded}\n              aria-label=\"Show more\"\n            >\n              <ExpandMoreIcon />\n            </IconButton>\n          </CardActions>\n          <Collapse in={this.state.expanded} timeout=\"auto\" unmountOnExit>\n            <CardContent>\n              {badActions}\n            </CardContent>\n          </Collapse>\n        </Card>\n      </LightGreen>\n    );\n  }\n}\n\nBadActionsCard.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(BadActionsCard);\n","import React from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Config from '../../config';\nimport Grid from '@material-ui/core/Grid';\n\nclass ProblemStory extends React.Component {\n  onChange = (event) => {\n    this.props.onChange({ description: event.target.value });\n  }\n\n  render() {\n    return (\n      <Grid container>\n        <Grid item xs={12} sm={6}>\n          <TextField\n            fullWidth={true}\n            placeholder={Config.pages.problem.inputText}\n            multiline\n            rows=\"5\"\n            margin=\"normal\"\n            value={this.props.description}\n            onChange={this.onChange}\n          />\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\nexport default ProblemStory;\n","import React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport ListItem from '@material-ui/core/ListItem';\nimport List from '@material-ui/core/List';\nimport Input from '@material-ui/core/Input';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport Config from '../../config';\n\nconst styles = theme => ({\n  marginTop: 30,\n  secondaryPaper: theme.mixins.gutters({\n    background: theme.palette.secondaryPaper,\n    paddingTop: 16,\n    paddingBottom: 16,\n    marginTop: theme.spacing.unit * 3\n  }),\n  typography: {\n    color: 'black'\n  },\n  input: {\n    width: '100%'\n  }\n});\n\nclass VerbExtract extends React.Component {\n  onBlur = (e, i) => {\n  }\n\n  onChange = (e, i) => {\n    const newVerbs = this.props.verbs.slice(0);\n    newVerbs[i] = e.target.value;\n    this.props.onChange({ verbs: newVerbs });\n  }\n\n  render() {\n    const { classes } = this.props;\n    const userProblem = (\n      <Paper className={classes.secondaryPaper} elevation={4}>\n        <Typography\n          type=\"headline\"\n          component=\"h3\"\n          className={classes.typography}\n        >\n          {Config.pages.verbExtract.cardHeader}\n        </Typography>\n        <Typography\n          component=\"p\"\n          className={classes.typography}\n        >\n          {this.props.description || Config.pages.verbExtract.emptyProblem}\n        </Typography>\n      </Paper>\n    );\n\n    const verbItems = Array(6).fill(null).map((item, i) => (\n      <ListItem key={i}>\n        <Input\n          className={classes.input}\n          placeholder={Config.pages.verbExtract.inputText}\n          onChange={e => {this.onChange(e, i)}}\n          value={this.props.verbs[i] || ''}\n        />\n      </ListItem>\n    ));\n    const verbList = <List className={classes.list}>{verbItems}</List>\n\n    return (\n      <div className={classes.root}>\n        <Grid container>\n          <Grid item md={12} xs={12}>\n            <Grid item xs={12} md={6}>\n              {userProblem}\n            </Grid>\n          </Grid>\n          <Grid item md={12} xs={12}>\n            <Grid item xs={12} md={6}>\n              {verbList}\n            </Grid>\n          </Grid>\n        </Grid>\n      </div>\n    );\n  }\n}\n\nVerbExtract.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(VerbExtract);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Divider from '@material-ui/core/Divider';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nconst styles = theme => ({\n  checked: {\n    'color': theme.palette.primary[500],\n    'text-align': 'right'\n  }\n});\n\nclass PastVerbSelect extends React.Component {\n  onChange = (i) => {\n    const newPastVerbs = this.props.pastVerbs.slice(0);\n    const indexPosition = this.props.pastVerbs.indexOf(i);\n    if (indexPosition === -1) {\n      newPastVerbs.push(i);\n    } else {\n      newPastVerbs.splice(indexPosition, 1);\n    }\n    this.props.onChange({ pastVerbs: newPastVerbs });\n  }\n\n  render() {\n    const { classes } = this.props;\n    const verbItems = this.props.verbs.filter(v => !!v).map((verb, i) => (\n      <div key={verb}>\n        <ListItem button onClick={() => this.onChange(i)}>\n          <ListItemText primary={verb} />\n          <ListItemSecondaryAction>\n            <Checkbox\n              value={verb}\n              checked={this.props.pastVerbs.includes(i)}\n              onChange={() => this.onChange(i)}\n              className={classes.checked}\n            />\n          </ListItemSecondaryAction>\n        </ListItem>\n        <Divider light />\n      </div>\n    ));\n    return (\n      <div className={classes.root}>\n        <List>\n          {verbItems}\n        </List>\n      </div>\n    );\n  }\n}\n\nPastVerbSelect.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(PastVerbSelect);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Divider from '@material-ui/core/Divider';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nconst styles = theme => ({\n  checked: {\n    'color': theme.palette.primary[500]\n  }\n});\n\nclass NegativeVerbSelect extends React.Component {\n  onChange = (i) => {\n    const newNegativeVerbs = this.props.negativeVerbs.slice(0);\n    const indexPosition = this.props.negativeVerbs.indexOf(i);\n    if (indexPosition === -1) {\n      newNegativeVerbs.push(i);\n    } else {\n      newNegativeVerbs.splice(indexPosition, 1);\n    }\n    this.props.onChange({ negativeVerbs: newNegativeVerbs });\n  }\n\n  render() {\n    const { classes } = this.props;\n    const verbItems = this.props.verbs.map(([verb, i]) => (\n      <div key={verb}>\n        <ListItem button onClick={() => this.onChange(i)}>\n          <ListItemText primary={verb} />\n          <ListItemSecondaryAction>\n            <Checkbox\n              checked={this.props.negativeVerbs.includes(i)}\n              onChange={() => this.onChange(i)}\n              value={verb}\n              className={classes.checked}\n            />\n          </ListItemSecondaryAction>\n        </ListItem>\n        <Divider light />\n      </div>\n    ));\n    return (\n      <div className={classes.root}>\n        <List>\n          {verbItems}\n        </List>\n      </div>\n    );\n  }\n}\n\nNegativeVerbSelect.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(NegativeVerbSelect);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Input from '@material-ui/core/Input';\nimport Grid from '@material-ui/core/Grid';\nimport Config from '../../config';\nimport ListItem from '@material-ui/core/ListItem';\nimport List from '@material-ui/core/List';\n\nconst styles = theme => ({\n  input: {\n    width: '100%'\n  }\n});\n\nclass Transformation extends React.Component {\n  onChange = (e, i) => {\n    const newVerbs = {\n      ...this.props.transformationVerbs,\n      [i]: e.target.value\n    };\n    this.props.onChange({ transformationVerbs: newVerbs });\n  }\n\n  render() {\n    const { classes } = this.props;\n    const placeholder = Config.pages.transformation.inputText;\n    const verbItems = this.props.verbs.map(([verb, i]) => (\n      <div key={verb}>\n        <ListItem>\n          <Input\n            className={classes.input}\n            placeholder={placeholder.replace('$', verb)}\n            onChange={e => this.onChange(e, i)}\n            value={this.props.transformationVerbs[i] || \"\"}\n          />\n        </ListItem>\n      </div>\n    ));\n    return (\n      <div className={classes.root}>\n        <Grid container>\n          <Grid item xs={12} sm={6}>\n            <List>\n            {verbItems}\n            </List>\n          </Grid>\n        </Grid>\n      </div>\n    );\n  }\n}\n\nTransformation.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Transformation);\n","import React from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Config from '../../config';\nimport Grid from '@material-ui/core/Grid';\n\nclass Name extends React.Component {\n  onChange = (e) => {\n    this.props.onChange({ name: e.target.value });\n  }\n\n  render() {\n    return (\n      <Grid container>\n        <Grid item xs={12} sm={6}>\n          <TextField\n            value={this.props.name}\n            onChange={this.onChange}\n            fullWidth={true}\n            placeholder={Config.pages.name.inputText}\n            margin=\"normal\"\n          />\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\nexport default Name;\n","import React from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Config from '../../config';\nimport Utils from '../../utils';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst styles = theme => ({\n  secondaryPaper: theme.mixins.gutters({\n    background: theme.palette.secondaryPaper,\n    paddingTop: 16,\n    paddingBottom: 16,\n    marginTop: theme.spacing.unit * 3\n  }),\n  typography: {\n    color: 'black'\n  }\n});\n\nclass NewName extends React.Component {\n  onChange = (e) => {\n    this.props.onChange({ newName: e.target.value });\n  }\n\n  render() {\n    const { classes } = this.props;\n    let verbArray = Utils.objectToArr(this.props.transformationVerbs);\n    const transformation = (\n      <Paper className={classes.secondaryPaper} elevation={4}>\n        <Typography\n          type=\"headline\"\n          component=\"h3\"\n          className={classes.typography}\n        >\n          {Config.pages.newName.cardHeader}\n        </Typography>\n        <Typography\n          component=\"p\"\n          className={classes.typography}\n        >\n          {Utils.joinWithCommas(verbArray)}\n        </Typography>\n      </Paper>\n    );\n\n    return (\n      <Grid container>\n        <Grid item md={12} xs={12}>\n          <Grid item xs={12} md={6}>\n            {transformation}\n          </Grid>\n        </Grid>\n        <Grid item md={12} xs={12}>\n          <Grid item xs={12} md={6}>\n            <TextField\n              value={this.props.newName}\n              onChange={this.onChange}\n              fullWidth={true}\n              placeholder={Config.pages.newName.inputText}\n              margin=\"normal\"\n            />\n          </Grid>\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\nNewName.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(NewName);\n","import React from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Config from '../../config';\nimport Grid from '@material-ui/core/Grid';\n\nclass PastDomino extends React.Component {\n  onChange = (e) => {\n    this.props.onChange({ pastDomino: e.target.value });\n  }\n\n  render() {\n    return (\n      <Grid container>\n        <Grid item xs={12} sm={6}>\n          <TextField\n            value={this.props.pastDomino}\n            onChange={this.onChange}\n            fullWidth={true}\n            placeholder={Config.pages.pastDomino.inputText}\n            multiline\n            rows=\"4\"\n            margin=\"normal\"\n          />\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\nexport default PastDomino;\n","import React from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Config from '../../config';\nimport Grid from '@material-ui/core/Grid';\n\nclass FutureDomino extends React.Component {\n  onChange = (e) => {\n    this.props.onChange({ futureDomino: e.target.value });\n  }\n\n  render() {\n    return (\n      <Grid container>\n        <Grid item xs={12} sm={6}>\n          <TextField\n            value={this.props.futureDomino}\n            onChange={this.onChange}\n            fullWidth={true}\n            placeholder={Config.pages.futureDomino.inputText}\n            multiline\n            rows=\"4\"\n            margin=\"normal\"\n          />\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\nexport default FutureDomino;\n","import React from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Config from '../../config';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst styles = theme => ({\n  secondaryPaper: theme.mixins.gutters({\n    background: theme.palette.secondaryPaper,\n    paddingTop: 16,\n    paddingBottom: 16,\n    marginTop: theme.spacing.unit * 3\n  }),\n  typography: {\n    color: 'black'\n  }\n});\n\nclass ProblemPlanted extends React.Component {\n  onChange = (e) => {\n    if (e.target.value !== this.props.problemPlanted) {\n      if (e.target.value !== this.props.description) {\n        this.props.onChange({ problemPlanted: e.target.value });\n      } else {\n        this.props.onChange({ problemPlanted: null });\n      }\n    }\n  }\n\n  render() {\n    const { classes } = this.props;\n    const transformation = (\n      <Paper className={classes.secondaryPaper} elevation={4}>\n        <Typography\n          type=\"headline\"\n          component=\"h3\"\n          className={classes.typography}\n        >\n          {Config.pages.problemPlanted.cardHeader}\n        </Typography>\n        <Typography\n          component=\"p\"\n          className={classes.typography}\n        >\n          {this.props.transformationSentence}\n        </Typography>\n      </Paper>\n    );\n    const currentValue = this.props.problemPlanted || this.props.description;\n    return (\n      <Grid container>\n        <Grid item md={12} xs={12}>\n          <Grid item xs={12} md={6}>\n            {transformation}\n          </Grid>\n        </Grid>\n        <Grid item md={12} xs={12}>\n          <Grid item xs={12} md={6}>\n            <TextField\n              value={currentValue}\n              onChange={this.onChange}\n              fullWidth={true}\n              margin=\"normal\"\n              rows=\"5\"\n              multiline\n            />\n          </Grid>\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\nProblemPlanted.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(ProblemPlanted);\n","import React from 'react';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport Card from '@material-ui/core/Card';\nimport Button from '@material-ui/core/Button';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport BadActionsCard from './badActionsCard';\nimport {Red, Orange, Green } from './themes';\nimport Typography from '@material-ui/core/Typography';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Config from '../config';\nimport Utils from '../utils';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Grid from '@material-ui/core/Grid';\n\nimport {\n  ProblemStory,\n  NegativeVerbSelect,\n  PastVerbSelect,\n  VerbExtract,\n  Transformation,\n  Name,\n  NewName,\n  PastDomino,\n  FutureDomino,\n  ProblemPlanted\n} from './pages';\n\nconst styles = () => ({\n  card: {\n    'min-height': '400px'\n  },\n  typography: {\n    marginBottom: 20\n  },\n  snackbar: {\n    'margin-top': '72px',\n    'z-index': 1\n  },\n  progress: {\n    'margin-top': '10px'\n  },\n});\n\nclass EditPage extends React.Component {\n  // We are using 'loading' and not redux 'creatingProblem'\n  // since we need to know when the fetch after save is done also.\n  state = {\n    showSavedMessage: false,\n    showErrorMessage: false,\n    loading: false\n  }\n\n  componentWillMount() {\n    if (this.draft) return;\n    if (this.props.selectedProblemId) {\n      // make sure fetch problems is done\n      // when edit page is the startup page\n      setTimeout(() => {\n        this.props.selectDraft(this.props.selectedProblemId);\n      }, 0);\n    } else {\n      this.props.clearDraft();\n    }\n  }\n\n  onChange = (changes) => {\n    const didChange = Object.keys(changes).some(k => (\n      changes[k] !== this.props.draft[k]\n    ));\n    didChange && this.props.updateDraft(changes);\n  }\n\n  onPageSelected = (i) => {\n    this.props.onPageSelected(this.props.selectedPage + i)\n  }\n\n  saveCurrentProblem = () => {\n    this.closeSnackbar();\n    this.setState({ loading: true });\n    const draft = {\n      ...this.props.draft,\n      verbs: Utils.cleanArray(this.props.draft.verbs)\n    };\n\n    if (this.isNewProblem) {\n      this.props.createProblemAndFetch(draft).then(newId => {\n        this.setState({ loading: false, showErrorMessage: false });\n        this.props.onProblemSelected(newId);\n      }).catch(e => {\n        this.setState({ loading: false, showErrorMessage: true });\n      });\n    } else {\n      this.props.updateProblemAndFetch(this.props.selectedProblemId, draft).then(() => {\n        this.setState({\n          loading: false,\n          showSavedMessage: true,\n          showErrorMessage: false\n        });\n      }).catch(e => {\n        this.setState({ loading: false, showErrorMessage: true });\n      });\n    }\n  }\n\n  closeSnackbar = () => {\n    this.setState({ showSavedMessage: false, showErrorMessage: false })\n  }\n\n  get errorMessage() {\n    return this.props.createProblemError || this.props.updateProblemError;\n  }\n\n  get saveEnabled() {\n    return Utils.isValidProblem(this.props.draft);\n  }\n\n  get isNewProblem() {\n    return !this.props.selectedProblemId;\n  }\n\n  render() {\n    const { classes } = this.props;\n    if (!this.props.draft) return null;\n    const nonNewVerbs = Utils.nonNewVerbs(this.props.draft);\n    const pages = [\n      {\n        page: <ProblemStory\n                description={this.props.draft.description}\n                onChange={this.onChange}\n              />,\n        header: Config.pages.problem.description,\n        valid: () => Utils.isValid(this.props.draft, 'description'),\n        theme: Red,\n        showBadActions: true,\n      },\n      {\n        page: <VerbExtract\n                verbs={this.props.draft.verbs}\n                description={this.props.draft.description}\n                onChange={this.onChange}\n              />,\n        header: Config.pages.verbExtract.description,\n        valid: () => Utils.isValid(this.props.draft, 'verbs'),\n        theme: Red\n      },\n      {\n        page: <PastVerbSelect\n                onChange={this.onChange}\n                verbs={this.props.draft.verbs}\n                pastVerbs={this.props.draft.pastVerbs}\n              />,\n        header: Config.pages.pastVerbs.description,\n        valid: () => Utils.isValid(this.props.draft, 'pastVerbs'),\n        theme: Orange\n      },\n      {\n        page: <NegativeVerbSelect\n                onChange={this.onChange}\n                verbs={nonNewVerbs}\n                negativeVerbs={this.props.draft.negativeVerbs}\n              />,\n        header: Config.pages.negativeVerbs.description,\n        valid: () => Utils.isValid(this.props.draft, 'negativeVerbs'),\n        theme: Red\n      },\n      {\n        page: <Transformation\n                onChange={this.onChange}\n                verbs={nonNewVerbs}\n                transformationVerbs={this.props.draft.transformationVerbs}\n              />,\n        header: Config.pages.transformation.description,\n        valid: () => Utils.isValid(this.props.draft, 'transformationVerbs'),\n        theme: Green,\n        showBadActions: true,\n      },\n      {\n        page: <Name\n                onChange={this.onChange}\n                name={this.props.draft.name}\n              />,\n        header: Config.pages.name.description,\n        valid: () => Utils.isValid(this.props.draft, 'name'),\n        theme: Red\n      },\n      {\n        page: <NewName\n                onChange={this.onChange}\n                newName={this.props.draft.newName}\n                transformationVerbs={this.props.draft.transformationVerbs}\n              />,\n        header: Config.pages.newName.description,\n        valid: () => Utils.isValid(this.props.draft, 'newName'),\n        theme: Green\n      },\n      {\n        page: <PastDomino\n                onChange={this.onChange}\n                pastDomino={this.props.draft.pastDomino}\n              />,\n        header: Config.pages.pastDomino.description,\n        valid: () => Utils.isValid(this.props.draft, 'pastDomino'),\n        theme: Red\n      },\n      {\n        page: <FutureDomino\n                onChange={this.onChange}\n                futureDomino={this.props.draft.futureDomino}\n              />,\n        header: Config.pages.futureDomino.description,\n        valid: () => Utils.isValid(this.props.draft, 'futureDomino'),\n        theme: Green\n      },\n      {\n        page: <ProblemPlanted\n                onChange={this.onChange}\n                transformationSentence={Utils.transformationSentence(this.props.draft)}\n                description={this.props.draft.description}\n                problemPlanted={this.props.draft.problemPlanted}\n              />,\n        header: Config.pages.problemPlanted.description,\n        valid: () => Utils.isValid(this.props.draft, 'problemPlanted'),\n        theme: Green\n      }\n    ];\n    const currentPage = pages[this.props.selectedPage];\n    const isFirstPage = !!this.props.selectedPage;\n    const isLastPage = this.props.selectedPage === (pages.length - 1);\n    const nextEnabled = !isLastPage && currentPage.valid();\n    const showSave = !this.isNewProblem || isLastPage;\n\n    // Waiting problem creation\n    let loadingSection;\n    if(this.state.loading) {\n      loadingSection = (\n        <Grid container direction=\"column\" align=\"center\">\n          <Grid item>\n            <CircularProgress\n              className={classes.progress}\n              thickness={5}\n              color=\"primary\"\n            />\n          </Grid>\n        </Grid>\n      );\n    }\n\n    const eyeTypes = Object.keys(this.props.selectedEyeTypes)\n      .map(id => Config.eyeTypesScreen.types[id]);\n    const badActionsCard = (\n      eyeTypes && currentPage.showBadActions\n      ? <BadActionsCard eyeTypes={eyeTypes}/>\n      : null\n    );\n    const mainCard = (<Card className={classes.card}>\n      <CardContent>\n        <Typography\n          type=\"headline\"\n          component=\"h2\"\n          className={classes.typography}\n        >\n          {currentPage.header}\n        </Typography>\n        {currentPage.page}\n      </CardContent>\n      <CardActions>\n        <Button\n          disabled={!isFirstPage}\n          onClick={() => this.onPageSelected(-1)}\n        >\n          {Config.pages.back}\n        </Button>\n        <Button\n          disabled={!nextEnabled}\n          onClick={() => this.onPageSelected(1)}\n        >\n          {Config.pages.next}\n        </Button>\n        {showSave && (\n          <Button\n            onClick={this.saveCurrentProblem}\n            disabled={!this.saveEnabled}\n          >\n            {Config.pages.save}\n          </Button>\n        )}\n      </CardActions>\n    </Card>)\n    const card = (\n      <currentPage.theme>\n        <Grid container spacing={16}>\n          <Grid item xs={12} sm={6}>\n            {badActionsCard}\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            {mainCard}\n          </Grid>\n        </Grid>\n      </currentPage.theme>\n    );\n\n    let snackbarMessage, retryButton = null;\n    if(this.state.showSavedMessage) {\n      snackbarMessage = Config.pages.saveMessage;\n    } else if (this.state.showErrorMessage) {\n      snackbarMessage = `${Config.pages.saveErrorMessage} ${this.errorMessage}`;\n      retryButton = (\n        <Button color=\"primary\" size=\"small\" onClick={this.saveCurrentProblem}>\n          {Config.pages.retrySave}\n        </Button>\n      )\n    }\n\n    return (\n      <div>\n        <Snackbar className={classes.snackbar}\n          anchorOrigin={{ vertical: 'top', horizontal: 'left' }}\n          open={this.state.showSavedMessage || this.state.showErrorMessage}\n          onClose={this.closeSnackbar}\n          autoHideDuration={this.state.showSavedMessage ? 1500 : 10000}\n          message={<span id=\"message-id\">{snackbarMessage}</span>}\n          action={retryButton}\n        />\n        {loadingSection || card}\n      </div>\n    );\n  }\n}\n\nEditPage.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(EditPage);\n","import EditPage from '../components/editPage';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport {\n  createProblem,\n  updateProblem,\n  updateDraft,\n  fetchProblems,\n  clearDraft,\n  selectDraft\n} from '../actions/problemActions';\n\nconst mapStateToProps = (state) => {\n  return {\n    draft: state.problems.draftProblem,\n    problems: state.problems.savedProblems,\n    creatingProblem: state.problems.creatingProblem,\n    createProblemError: state.problems.createProblemError,\n    updatingProblem: state.problems.updatingProblem,\n    updateProblemError: state.problems.updateProblemError,\n    selectedEyeTypes: state.eyeTypes.selectedEyeTypes\n  };\n};\n\nconst matchDispatchToProps = (dispatch) => {\n  const matcher = bindActionCreators({\n    updateDraft,\n    selectDraft,\n    clearDraft\n  }, dispatch);\n\n  return {\n    ...matcher,\n    createProblemAndFetch: (problem) => {\n      var newId;\n      const p = dispatch(createProblem(problem)).then(id => {\n        newId = id;\n      }).then(() => (\n        dispatch(fetchProblems())\n      )).then(() => (\n        dispatch(clearDraft())\n      )).catch(e => (\n        e\n      )).then(e => (\n        newId ? Promise.resolve(newId) : Promise.reject(e)\n      ));\n      return p;\n    },\n    updateProblemAndFetch: (id, changes) => {\n      var success = false;\n      const p = dispatch(updateProblem(id, changes)).then(() => {\n        success = true\n        return dispatch(fetchProblems());\n      }).catch(e => (\n        e\n      )).then(e => (\n        success ? Promise.resolve() : Promise.reject(e)\n      ));\n      return p;\n    },\n    fetchAndSelectDraft: (id) => {\n      dispatch(fetchProblems()).then(() => (\n        dispatch(selectDraft(id))\n      )).catch(e => {\n        // TODO - startup page is editor and error\n      });\n    }\n  };\n};\n\nexport default connect(mapStateToProps, matchDispatchToProps)(EditPage);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Card from '@material-ui/core/Card';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Config from '../config';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\n\nconst styles = theme => ({\n    media: {\n      height: 194\n    },\n    heading: {\n      fontSize: theme.typography.pxToRem(15),\n      fontWeight: theme.typography.fontWeightRegular,\n    },\n});\n\nclass SolutionCard extends React.Component {\n  render() {\n    const { classes, content } = this.props;\n    const contentPanels = Object.keys(content).map((key, i) => (\n      <ExpansionPanel key={`${content[key]}-${i}`}>\n        <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\n          <Typography className={classes.heading}>\n            {Config.solutionScreen.problemKeyNames[key]}\n          </Typography>\n        </ExpansionPanelSummary>\n        <ExpansionPanelDetails>\n          <Typography>\n            {content[key]}\n          </Typography>\n        </ExpansionPanelDetails>\n      </ExpansionPanel>\n    ));\n\n    return (\n      <Card className={classes.card}>\n        <CardHeader\n          title={this.props.header}\n          subheader={this.props.subHeader}\n        />\n        <CardMedia\n          className={classes.media}\n          image={this.props.imageUrl}\n        />\n        <CardContent>\n          <Typography component=\"p\">\n            {this.props.description}\n          </Typography>\n        </CardContent>\n        {contentPanels}\n      </Card>\n    );\n  }\n}\n\nSolutionCard.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(SolutionCard);\n","import React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport SolutionCard from './solutionCard';\nimport Config from '../config';\nimport Utils from '../utils';\nimport {Red, DarkGreen} from './themes'\n\nclass SolutionScreen extends React.Component {\n  constructor(props) {\n    super(props);\n    this.manKeys = [\n      'problemType',\n      'description',\n      'negativeVerbs',\n      'verbs',\n      'name',\n      'pastDomino'\n    ];\n    this.beeingKeys = [\n      'problemPlanted',\n      'transformationVerbs',\n      'newName',\n      'futureDomino',\n    ];\n  }\n\n  get problem() {\n    return this.props.problems && this.props.problems[this.props.selectedProblemId];\n  }\n\n  render() {\n    const problem = this.problem;\n    let textProblem = {...problem};\n    if (!problem) return null;\n    textProblem.verbs = Utils.joinWithCommas(problem.verbs);\n    textProblem.negativeVerbs = Utils.indexToText(problem.negativeVerbs, problem.verbs);\n    textProblem.transformationVerbs = Utils.transformationSentence(problem);\n    textProblem.problemType = Utils.problemTypeSentence(problem);\n\n    const manTexts = this.manKeys.reduce((acc, item) => {\n      acc[item] = textProblem[item];\n      return acc\n    }, {});\n    const beeingTexts = this.beeingKeys.reduce((acc, item) => {\n      acc[item] = textProblem[item];\n      return acc\n    }, {});\n\n    // The two image: https://icons8.com/license\n    // requires a link to the site formally (for private and commercial use).\n\n    const manCard = (\n      <SolutionCard\n        content={manTexts}\n        header={Config.solutionScreen.man.header}\n        subHeader={Config.solutionScreen.man.subHeader}\n        description={Config.solutionScreen.man.description}\n        imageUrl={`${Utils.sitePrefix}face.png`}\n      />\n    );\n\n    const beeingCard = (\n      <SolutionCard\n        content={beeingTexts}\n        header={Config.solutionScreen.beeing.header}\n        subHeader={Config.solutionScreen.beeing.subHeader}\n        description={Config.solutionScreen.beeing.description}\n        imageUrl={`${Utils.sitePrefix}plane.png`}\n      />\n    );\n\n    return (\n      <Grid container spacing={16}>\n        <Grid item xs={12} sm={6}>\n          <DarkGreen>{beeingCard}</DarkGreen>\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Red>{manCard}</Red>\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\nexport default SolutionScreen;\n","import SolutionScreen from '../components/solutionScreen';\nimport { connect } from 'react-redux';\n\nconst mapStateToProps = (state) => {\n  return {\n    problems: state.problems.savedProblems\n  };\n};\n\nexport default connect(mapStateToProps)(SolutionScreen);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport Card from '@material-ui/core/Card';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport Config from '../config';\nimport Utils from '../utils';\nimport IconButton from '@material-ui/core/IconButton';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport DeleteForever from '@material-ui/icons/DeleteForever';\nimport Edit from '@material-ui/icons/Edit';\nimport Email from '@material-ui/icons/Email';\nimport Share from '@material-ui/icons/Share';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Grid from '@material-ui/core/Grid';\nimport Snackbar from '@material-ui/core/Snackbar';\n\nconst styles = theme => ({\n  card: {\n    width: '100%'\n  },\n  media: {\n    height: 200,\n  },\n  burger: {\n    color: theme.palette.common.white\n  },\n  menu: {\n    'margin-top': '20px'\n  },\n  progress: {\n    marginTop: 50\n  },\n  snackbar: {\n    'margin-top': '72px',\n    'z-index': 1\n  },\n});\n\nclass ProblemScreen extends React.Component {\n  // We are using 'loading' and not redux 'deletingProblem'\n  // since we need to know when the fetch after delete is done also.\n  state = {\n    anchorEl: null,\n    showErrorMessage: false,\n    loading: false\n  }\n\n  handleClick = event => {\n    this.setState({ anchorEl: event.currentTarget });\n  }\n\n  handleClose = () => {\n    this.setState({ anchorEl: null });\n  }\n\n  onViewProblemClicked = () => {\n    this.props.onSolutionSelected();\n  }\n\n  handleEdit = () => {\n    this.handleClose();\n    this.props.selectDraft(this.props.selectedProblemId);\n    this.props.onEditorSelected();\n  }\n\n  handleDelete = () => {\n    this.handleClose();\n    this.setState({ loading: true });\n    this.props.deleteAndFetch(this.props.selectedProblemId).then(() => {\n      this.setState({ showErrorMessage: false, loading: false });\n      this.props.onHomeSelected();\n    }).catch(e => {\n      this.setState({ showErrorMessage: true, loading: false });\n    });\n  }\n\n  handleSend = () => {\n    const mailBody = Utils.problemToText(this.problem);\n    const subject = Utils.problemToTitleText(this.problem);\n    const lString = `mailto:?subject=${subject}&body=${mailBody}`;\n    window.location = lString.replace(/\\n/g, escape('\\r\\n'));\n  }\n\n  handleShare = () => {\n    const problem = Utils.problemToText(this.problem, true).trim();\n    const url = `🧿 *${Config.problemScreen.shareUrlPrefix}* ${Utils.problemUrl}`;\n    window.location = `whatsapp://send?text=${problem}\\n\\n${url}`.replace(/\\n/g, escape('\\r\\n'));\n  }\n\n  get problem() {\n    return this.props.problems && this.props.problems[this.props.selectedProblemId];\n  }\n\n  render() {\n    const { classes } = this.props;\n    const { anchorEl } = this.state;\n    if (!this.problem) return null;\n    const menu = (\n      <div>\n        <IconButton\n          aria-label=\"More\"\n          aria-owns={anchorEl ? 'long-menu' : null}\n          aria-haspopup=\"true\"\n          onClick={this.handleClick}\n          className={classes.burger}\n        >\n          <MoreVertIcon />\n        </IconButton>\n        <Menu\n          id=\"long-menu\"\n          anchorEl={this.state.anchorEl}\n          open={Boolean(anchorEl)}\n          onClose={this.handleClose}\n          className={classes.menu}\n        >\n          <MenuItem onClick={this.handleEdit}>\n            <ListItemIcon>\n              <Edit/>\n            </ListItemIcon>\n            <ListItemText inset primary={Config.problemScreen.editText} />\n          </MenuItem>\n          <MenuItem className={classes.menuItem} onClick={this.handleDelete}>\n            <ListItemIcon>\n              <DeleteForever />\n            </ListItemIcon>\n            <ListItemText inset primary={Config.problemScreen.deleteText} />\n          </MenuItem>\n          <MenuItem onClick={this.handleSend}>\n            <ListItemIcon>\n              <Email/>\n            </ListItemIcon>\n            <ListItemText inset primary={Config.problemScreen.sendText} />\n          </MenuItem>\n          <MenuItem onClick={this.handleShare}>\n            <ListItemIcon>\n              <Share/>\n            </ListItemIcon>\n            <ListItemText inset primary={Config.problemScreen.shareText} />\n          </MenuItem>\n        </Menu>\n      </div>\n    );\n\n    const retryButton = (\n      <Button color=\"accent\" size=\"small\" onClick={this.handleDelete}>\n        {Config.problemScreen.retryDeleteText}\n      </Button>\n    );\n    let snackbarMessage = Config.problemScreen.deleteErrorMessage;\n    snackbarMessage += ` ${this.props.deleteProblemError}`;\n\n    let card = (\n      <Card className={classes.card}>\n        <Snackbar className={classes.snackbar}\n          anchorOrigin={{ vertical: 'top', horizontal: 'left' }}\n          open={this.state.showErrorMessage}\n          onClose={() => { this.setState({ showErrorMessage: false }) }}\n          autoHideDuration={10000}\n          message={<span id=\"message-id\">{snackbarMessage}</span>}\n          action={retryButton}\n        />\n        <CardMedia className={classes.media} image={`${Utils.sitePrefix}welcome.jpg`} >\n          {menu}\n        </CardMedia>\n        <CardContent>\n          <Typography type=\"headline\" component=\"h2\">\n            {Utils.truncate(this.problem.problemPlanted || this.problem.description, 150)}\n          </Typography>\n          <Typography type=\"subheading\" color=\"textSecondary\">\n            {Utils.problemTypeSentence(this.problem)}\n          </Typography>\n          <Typography component=\"p\">\n            {Utils.transformationSentence(this.problem)}\n          </Typography>\n        </CardContent>\n        <CardActions>\n          <Button onClick={this.onViewProblemClicked}>\n            {Config.problemScreen.showBookText}\n          </Button>\n        </CardActions>\n      </Card>\n    );\n\n    // Loading indicator for delete\n    if(this.state.loading) {\n      card = (\n        <Grid container direction=\"column\" align=\"center\">\n          <Grid item>\n            <CircularProgress\n              className={classes.progress}\n              thickness={5}\n              color=\"primary\"\n            />\n          </Grid>\n        </Grid>\n      );\n    }\n\n    return card;\n  }\n}\n\nProblemScreen.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(ProblemScreen);\n","import ProblemScreen from '../components/problemScreen';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport {\n  deleteProblem,\n  fetchProblems,\n  selectDraft\n} from '../actions/problemActions';\n\nconst mapStateToProps = (state) => {\n  return {\n    problems: state.problems.savedProblems,\n    deletingProblem: state.problems.deletingProblem,\n    deleteProblemError: state.problems.deleteProblemError\n  };\n};\n\nconst matchDispatchToProps = (dispatch) => {\n  const matcher = bindActionCreators({\n    selectDraft\n  }, dispatch);\n\n  return {\n    ...matcher,\n    deleteAndFetch: (id) => {\n      var success = false;\n      const p = dispatch(deleteProblem(id)).then(() => {\n        success = true;\n        return dispatch(fetchProblems());\n      }).catch(e => (\n        e\n      )).then(e => (\n        success ? Promise.resolve() : Promise.reject(e)\n      ));\n      return p;\n    }\n  }\n};\n\nexport default connect(mapStateToProps, matchDispatchToProps)(ProblemScreen);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport Config from '../config';\nimport Utils from '../utils';\nimport {DarkGreen} from './themes';\n\nconst styles = theme => ({\n  card: {\n    width: '100%'\n  },\n  media: {\n    height: 200,\n  }\n});\n\nclass WelcomeScreen extends React.Component {\n  onNewProblemSelected = () => {\n    this.props.clearDraft();\n    this.props.onNewProblemSelected();\n  }\n\n  render() {\n    const { classes } = this.props;\n    let lastLineIndex = Config.welcomeScreen.descriptions.length - 1;\n    let descriptions = Config.welcomeScreen.descriptions.map((desc, i) => (\n      <Typography paragraph={lastLineIndex === i} key={i}>\n        {desc}\n      </Typography>\n    ));\n    descriptions.push(\n      <Typography key='signature'>\n        {Config.welcomeScreen.descriptionSignature}\n      </Typography>\n    );\n\n    return (\n      <DarkGreen>\n        <Card className={classes.card}>\n          <CardMedia className={classes.media} image={`${Utils.sitePrefix}welcome.jpg`} />\n          <CardContent>\n            <Typography type=\"headline\" component=\"h2\">\n              {Config.welcomeScreen.header}\n            </Typography>\n            {descriptions}\n          </CardContent>\n          <CardActions>\n            <Button onClick={this.onNewProblemSelected}>\n              {Config.welcomeScreen.newProblemText}\n            </Button>\n          </CardActions>\n        </Card>\n      </DarkGreen>\n    );\n  }\n}\n\nWelcomeScreen.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(WelcomeScreen);\n","import WelcomeScreen from '../components/welcomeScreen';\nimport { connect } from 'react-redux';\nimport { clearDraft } from '../actions/problemActions';\nimport { bindActionCreators } from 'redux';\n\nconst matchDispatchToProps = (dispatch) => {\n  return bindActionCreators({\n    clearDraft\n  }, dispatch);\n};\n\nexport default connect(null, matchDispatchToProps)(WelcomeScreen);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Card from '@material-ui/core/Card';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Config from '../config';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport Switch from '@material-ui/core/Switch';\nimport Utils from '../utils';\nimport {LightGreen} from './themes';\n\nconst styles = theme => ({\n    media: {\n      height: 194\n    },\n    heading: {\n      fontSize: theme.typography.pxToRem(15),\n      fontWeight: theme.typography.fontWeightRegular,\n    },\n    switch: {\n      float: 'right'\n    }\n});\n\nclass EyeTypeCard extends React.Component {\n  onChange = event => {\n    this.props.onChange(event.target.checked);\n  }\n\n  render() {\n    const { classes } = this.props;\n    const contentPanels = [\"color\", \"origin\", \"actions\"].map((key, i) => (\n      <ExpansionPanel key={`${key}-${i}`}>\n        <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\n          <Typography className={classes.heading}>\n            {Config.eyeTypesScreen.headers[key]}\n          </Typography>\n        </ExpansionPanelSummary>\n        <ExpansionPanelDetails>\n          <Typography>\n            {\n              !Array.isArray(this.props[key])\n              ? this.props[key]\n              : Utils.joinWithCommas(this.props[key])\n            }\n          </Typography>\n        </ExpansionPanelDetails>\n      </ExpansionPanel>\n    ));\n\n    const title = (\n      <div>\n        <span>{this.props.name}</span>\n        <Switch\n          className={classes.switch}\n          checked={this.props.selected}\n          onChange={this.onChange}\n          value=\"1\"\n          color=\"secondary\"\n        />\n      </div>\n    );\n\n    return (\n      <LightGreen>\n        <Card>\n          <CardHeader title={title}/>\n          <CardMedia className={classes.media} image={this.props.image}/>\n          <CardContent>\n            <Typography component=\"p\">\n              {this.props.origin}\n            </Typography>\n          </CardContent>\n          {contentPanels}\n        </Card>\n      </LightGreen>\n    );\n  }\n}\n\nEyeTypeCard.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(EyeTypeCard);\n","import React from 'react';\n  import Config from '../config';\nimport EyeTypeCard from './eyeTypeCard';\nimport Grid from '@material-ui/core/Grid';\n\nclass EyeTypesScreen extends React.Component {\n  onChange = id => () => {\n    this.props.toggleEyeTypeAndFetch(id);\n  }\n\n  render() {\n    const eyeTypes = Object.entries(Config.eyeTypesScreen.types).map(([id, type]) => (\n      <Grid item xs={12} sm={4} key={id}>\n        <EyeTypeCard\n          name={type.name}\n          color={type.color}\n          description={type.description}\n          origin={type.origin}\n          actions={type.actions}\n          image={type.image}\n          selected={!!this.props.selectedEyeTypes[id]}\n          onChange={this.onChange(id)}\n        />\n      </Grid>\n    ));\n\n    return <Grid container spacing={16}>{eyeTypes}</Grid>;\n  }\n}\n\nexport default EyeTypesScreen;\n","import Utils from '../utils';\nexport const FETCH_SELECTED_EYE_TYPES_PENDING = 'FETCH_SELECTED_EYE_TYPES_PENDING';\nexport const FETCH_SELECTED_EYE_TYPES_FULFILLED = 'FETCH_SELECTED_EYE_TYPES_FULFILLED';\nexport const FETCH_SELECTED_EYE_TYPES_REJECTED = 'FETCH_SELECTED_EYE_TYPES_REJECTED';\nexport const TOGGLE_EYE_TYPE_PENDING = 'TOGGLE_EYE_TYPE_PENDING';\nexport const TOGGLE_EYE_TYPE_FULFILLED = 'TOGGLE_EYE_TYPE_FULFILLED';\nexport const TOGGLE_EYE_TYPE_REJECTED = 'TOGGLE_EYE_TYPE_REJECTED';\n\nexport function fetchSelectedEyeTypesPending() {\n  return {\n    type: FETCH_SELECTED_EYE_TYPES_PENDING,\n  };\n}\n\nexport function fetchSelectedEyeTypesFullfilled(eyeTypes) {\n  return {\n    type: FETCH_SELECTED_EYE_TYPES_FULFILLED,\n    payload: eyeTypes\n  };\n}\n\nexport function fetchSelectedEyeTypesRejected(error) {\n  return {\n    type: FETCH_SELECTED_EYE_TYPES_REJECTED,\n    payload: error\n  };\n}\n\nexport function fetchSelectedEyeTypes() {\n  let eyeTypes = Utils.getItem('selectedEyeTypes');\n  eyeTypes = (eyeTypes && JSON.parse(eyeTypes)) || {};\n\n  return async dispatch => {\n    try {\n      dispatch(fetchSelectedEyeTypesPending());\n      // await Utils.delay(50);\n       // throw new Error('USER_LOGGED_OUT');\n      dispatch(fetchSelectedEyeTypesFullfilled(eyeTypes));\n    } catch (e) {\n      dispatch(fetchSelectedEyeTypesRejected(e));\n    }\n  };\n};\n\nexport function toggleEyeTypePending() {\n  return {\n    type: TOGGLE_EYE_TYPE_PENDING,\n  };\n};\n\nexport function toggleEyeTypeFullfilled() {\n  return {\n    type: TOGGLE_EYE_TYPE_FULFILLED,\n  };\n};\n\nexport function toggleEyeTypeRejected(error) {\n  return {\n    type: TOGGLE_EYE_TYPE_REJECTED,\n    payload: error\n  };\n};\n\nexport function toggleEyeType(id) {\n  id = '' + id;\n  let eyeTypes = Utils.getItem('selectedEyeTypes');\n  eyeTypes = (eyeTypes && JSON.parse(eyeTypes)) || {};\n  if(eyeTypes[id] !== undefined && eyeTypes[id]) {\n    delete eyeTypes[id];\n  } else {\n    eyeTypes[id] = true;\n  }\n\n  return async dispatch => {\n    try {\n      dispatch(toggleEyeTypePending());\n      // await Utils.delay(50);\n      Utils.setItem('selectedEyeTypes', JSON.stringify(eyeTypes));\n      // throw new Error('USER_LOGGED_OUT');\n      dispatch(toggleEyeTypeFullfilled());\n    } catch (e) {\n      dispatch(toggleEyeTypeRejected(e));\n    }\n  };\n};\n","import EyeTypesScreen from '../components/eyeTypesScreen';\nimport { connect } from 'react-redux';\nimport {\n  toggleEyeType,\n  fetchSelectedEyeTypes\n} from '../actions/eyeTypeActions';\n\nconst matchDispatchToProps = (dispatch) => {\n  return {\n    toggleEyeTypeAndFetch: async id => {\n      await dispatch(toggleEyeType(id));\n      await dispatch(fetchSelectedEyeTypes());\n    }\n  };\n};\n\nconst mapStateToProps = ({eyeTypes}) => {\n  return {\n    selectedEyeTypes: eyeTypes.selectedEyeTypes\n  };\n};\n\nexport default connect(mapStateToProps, matchDispatchToProps)(EyeTypesScreen);\n","import React from 'react';\nimport {Main} from './themes';\nimport Grid from '@material-ui/core/Grid';\nimport { withStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport ProblemAppBar from './problemAppBar';\nimport EditPageContainer from '../containers/editPage';\nimport SolutionScreenContainer from '../containers/solutionScreen';\nimport ProblemScreenContainer from '../containers/problemScreen';\nimport WelcomeScreenContainer from '../containers/welcomeScreen';\nimport EyeTypesScreenContainer from '../containers/eyeTypesScreen';\nimport { HashRouter, Route } from 'react-router-dom';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { create } from 'jss';\nimport rtl from 'jss-rtl';\nimport JssProvider from 'react-jss/lib/JssProvider';\nimport { createGenerateClassName, jssPreset } from '@material-ui/core/styles';\n\nconst jss = create({ plugins: [...jssPreset().plugins, rtl()] });\nconst generateClassName = createGenerateClassName();\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n    marginTop: 30\n  },\n  page:{\n    marginTop: 15\n  },\n  progress: {\n    marginTop: 150\n  }\n});\n\nclass App extends React.Component {\n  state = {\n    startup: true\n  }\n\n  componentWillMount() {\n    Promise.all([\n      this.props.fetchProblems(),\n      this.props.fetchSelectedEyeTypes()\n    ]).then(() => {\n      this.setState({ startup : false });\n    });\n  }\n\n  onEditorPageSelected = (history) => (value) => {\n    if (this.isLoading) return;\n    history.replace(`${value + 1}`);\n  }\n\n  onNewProblemSelected = (history) => () => {\n    if (this.isLoading) return;\n    history.push(`/problems/new/1`);\n  }\n\n  onEyeTypesSelected = (history) => () => {\n    if (this.isLoading) return;\n    history.push(`/eyeTypes`);\n  }\n\n  onProblemSelected = (history) => (id) => {\n    if (this.isLoading) return;\n    history.push(`/problems/${id}`);\n  }\n\n  onEditorSelected = (history, id) => () => {\n    if (this.isLoading) return;\n    history.push(`/problems/${id}/edit/1`);\n  }\n\n  onSolutionSelected = (history, id) => () => {\n    history.push(`/problems/${id}/solution`);\n  }\n\n  get isLoading () {\n    let loading = this.props.creatingProblem || this.props.updatingProblem;\n    loading = loading || this.props.deletingProblem || this.props.fetchingProblems;\n    loading = loading || this.props.fetchingEyeTypes || this.props.togglingEyeType;\n    return loading;\n  }\n\n  render() {\n    const { classes } = this.props;\n    const problemScreen = ({match, history}) => (\n      <ProblemScreenContainer\n        onEditorSelected={this.onEditorSelected(history, match.params.id)}\n        selectedProblemId={match.params.id}\n        onSolutionSelected={this.onSolutionSelected(history, match.params.id)}\n        onHomeSelected={() => history.push('') }\n      />\n    );\n    const eyeTypesScreen = () => <EyeTypesScreenContainer/>;\n    const solutionScreen = ({match}) => (\n      <SolutionScreenContainer selectedProblemId={match.params.id} />\n    );\n    const editor = ({match, history}) => (\n      <EditPageContainer\n        selectedPage={match.params.pageNum - 1}\n        onPageSelected={this.onEditorPageSelected(history)}\n        onProblemSelected={this.onProblemSelected(history)}\n        selectedProblemId={match.params.id}\n      />\n    );\n    const welcomeScreen = ({ history }) => (\n      <WelcomeScreenContainer\n        onNewProblemSelected={this.onNewProblemSelected(history)}\n      />\n    );\n    const appBar = ({match, history}) => {\n      let editorPage, reg = /(?:edit|new)\\/(\\d+)$/.exec(match.url);\n      if (reg && reg[1]) editorPage = parseInt(reg[1], 10) - 1;\n      return (\n        <ProblemAppBar\n          onProblemSelected={this.onProblemSelected(history)}\n          onNewProblemSelected={this.onNewProblemSelected(history)}\n          onEyeTypesSelected={this.onEyeTypesSelected(history)}\n          onEditorPageSelected={this.onEditorPageSelected(history)}\n          editorPage={editorPage}\n        />\n      );\n    };\n\n    let mainScreen = (\n      <Grid item xs={12} className={classes.page}>\n        <Route path={''} exact={true} render={welcomeScreen}/>\n        <Route path={'/problems/:id'} exact={true} render={problemScreen}/>\n        <Route path={'/eyeTypes'} exact={true} render={eyeTypesScreen}/>\n        <Route path={`/problems/:id/solution`} exact={true} render={solutionScreen}/>\n        <Route path={`/problems/:id/edit/:pageNum`} exact={true} render={editor}/>\n        <Route path={`/problems/new/:pageNum`} exact={true} render={editor}/>\n      </Grid>\n    );\n    // This is for first load, show loading screen instead of components\n    if(this.state.startup) {\n      mainScreen = (\n        <Grid container direction=\"column\" align=\"center\">\n          <Grid item>\n            <CircularProgress\n              className={classes.progress}\n              thickness={5}\n              color=\"primary\"\n            />\n          </Grid>\n        </Grid>\n      )\n    }\n\n    return (\n      <JssProvider jss={jss} generateClassName={generateClassName}>\n        <Main>\n          <HashRouter>\n            <div className={classes.root}>\n              <Grid container spacing={8}>\n                <Grid item xs={12}>\n                  <Route path=\"*\" render={appBar}/>\n                </Grid>\n                {mainScreen}\n              </Grid>\n            </div>\n          </HashRouter>\n        </Main>\n      </JssProvider>\n    );\n  };\n};\n\nApp.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(App);\n","import App from '../components/app';\nimport { connect } from 'react-redux';\nimport { fetchProblems } from '../actions/problemActions';\nimport { fetchSelectedEyeTypes } from '../actions/eyeTypeActions';\n\nconst mapStateToProps = (state) => {\n  return {\n    problems: state.problems.savedProblems,\n    fetchingProblems: state.problems.fetchingProblems,\n    creatingProblem: state.problems.creatingProblem,\n    updatingProblem: state.problems.updatingProblem,\n    deletingProblem: state.problems.deletingProblem,\n    selectedEyeTypes: state.eyeTypes.selectedEyeTypes,\n    fetchingEyeTypes: state.eyeTypes.fetchingEyeTypes,\n    togglingEyeType: state.eyeTypes.togglingEyeType,\n  };\n};\n\nconst matchDispatchToProps = (dispatch) => {\n  // override just to catch rejects we don't really care\n  // here since there are no following actions to take..\n  return {\n    fetchProblems: () => {\n      return dispatch(fetchProblems()).catch(e => {});\n    },\n    fetchSelectedEyeTypes: () => {\n      try {\n        dispatch(fetchSelectedEyeTypes())\n      } catch (e) {}\n    }\n  }\n};\n\nexport default connect(mapStateToProps, matchDispatchToProps)(App);\n","import Utils from '../utils';\n\nconst defaultDraftProblem = (savedProblems) => {\n  const lastProblem = Utils.objectToArr(savedProblems).sort((p1, p2) => {\n    return p1.updatedAt >= p2.updatedAt ? -1 : 1;\n  })[0] || {};\n\n  return {\n    description: \"\",\n    verbs: [],\n    transformationVerbs: [],\n    pastVerbs: [],\n    negativeVerbs: [],\n    name: lastProblem.name || \"\",\n    newName: \"\",\n    pastDomino: lastProblem.pastDomino || \"\",\n    futureDomino: lastProblem.futureDomino || \"\",\n    updatedAt: null\n  };\n};\n\nconst defaultState = {\n  savedProblems: {},\n  fetchingProblems: false,\n  fetchProblemsError: null,\n  creatingProblem: false,\n  createProblemError: null,\n  updatingProblem: false,\n  updateProblemError: null,\n  deletingProblem: false,\n  deleteProblemError: null,\n  draftProblem: null\n};\n\nconst problems = (state = defaultState, action) => {\n    const draftProblem = state.draftProblem;\n    const savedProblems = state.savedProblems;\n    const payload = action.payload;\n    const newState = {\n      FETCH_PROBLEMS_PENDING: () => ({\n        ...state,\n        fetchingProblems: true,\n        fetchProblemsError: null\n      }),\n      FETCH_PROBLEMS_FULFILLED: () => ({\n        ...state,\n        fetchingProblems: false,\n        savedProblems: payload\n      }),\n      FETCH_PROBLEMS_REJECTED: () => ({\n        ...state,\n        fetchingProblems: false,\n        fetchProblemsError: payload.message,\n        savedProblems: null\n      }),\n      CREATE_PROBLEM_PENDING: () => ({\n        ...state,\n        creatingProblem: true,\n        createProblemError: null\n      }),\n      CREATE_PROBLEM_FULFILLED: () => ({\n        ...state,\n        creatingProblem: false\n      }),\n      CREATE_PROBLEM_REJECTED : () => ({\n        ...state,\n        creatingProblem: false,\n        createProblemError: payload.message\n      }),\n      UPDATE_PROBLEM_PENDING: () => ({\n        ...state,\n        updatingProblem: true,\n        updateProblemError: false\n      }),\n      UPDATE_PROBLEM_FULFILLED: () => ({\n        ...state,\n        updatingProblem: false\n      }),\n      UPDATE_PROBLEM_REJECTED: () => ({\n        ...state,\n        updatingProblem: false,\n        updateProblemError: payload.message\n      }),\n      DELETE_PROBLEM_PENDING: () => ({\n        ...state,\n        deletingProblem: true,\n        deleteProblemError: false\n      }),\n      DELETE_PROBLEM_FULFILLED: () => ({\n        ...state,\n        deletingProblem: false\n      }),\n      DELETE_PROBLEM_REJECTED: () => ({\n        ...state,\n        deletingProblem: false,\n        deleteProblemError: payload.message\n      }),\n      SELECT_DRAFT: () => ({\n        ...state,\n        draftProblem: Utils.cloneProblem(savedProblems[payload])\n      }),\n      CLEAR_DRAFT: () => ({\n        ...state,\n        draftProblem: defaultDraftProblem(savedProblems)\n      }),\n      UPDATE_DRAFT: () => ({\n        ...state,\n        draftProblem: Utils.cloneProblem(draftProblem, payload)\n      })\n    }[action.type];\n    return (newState && newState()) || state;\n};\n\nexport default problems;\n","const defaultState = {\n  selectedEyeTypes: {},\n  fetchingEyeTypes: false,\n  fetchEyeTypesError: null,\n  togglingEyeType: false,\n  toggleEyeTypeError: null,\n};\n\nconst eyeTypes = (state = defaultState, action) => {\n    const payload = action.payload;\n    const newState = {\n      FETCH_SELECTED_EYE_TYPES_PENDING: () => ({\n        ...state,\n        fetchingEyeTypes: true,\n        fetchEyeTypesError: null\n      }),\n      FETCH_SELECTED_EYE_TYPES_FULFILLED: () => ({\n        ...state,\n        fetchingEyeTypes: false,\n        selectedEyeTypes: payload\n      }),\n      FETCH_SELECTED_EYE_TYPES_REJECTED: () => ({\n        ...state,\n        fetchingEyeTypes: false,\n        fetchEyeTypesError: payload.message,\n        selectedEyeTypes: null\n      }),\n      TOGGLE_EYE_TYPE_PENDING: () => ({\n        ...state,\n        togglingEyeType: true,\n        toggleEyeTypeError: null\n      }),\n      TOGGLE_EYE_TYPE_FULFILLED: () => ({\n        ...state,\n        togglingEyeType: false\n      }),\n      TOGGLE_EYE_TYPE_REJECTED : () => ({\n        ...state,\n        togglingEyeType: false,\n        toggeleEyeTypeError: payload.message\n      })\n    }[action.type];\n    return (newState && newState()) || state;\n};\n\nexport default eyeTypes;\n","import { combineReducers } from 'redux';\nimport problems from './problemReducer';\nimport eyeTypes from './eyeTypesReducer';\nexport default combineReducers({\n  problems,\n  eyeTypes\n});\n","import { applyMiddleware, createStore } from 'redux';\nimport logger from 'redux-logger';\nimport reducers from './reducers';\nimport thunk from 'redux-thunk';\n\nconst middleware = applyMiddleware(logger, thunk);\nexport default createStore(reducers, middleware);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport AppContainer from './containers/app';\nimport { Provider } from \"react-redux\";\nimport store from './store';\nimport './index.css';\nimport 'typeface-roboto';\n\nReactDOM.render(\n  <Provider store={store}>\n    <AppContainer/>\n  </Provider>,\n  document.getElementById('app'));\n"],"sourceRoot":""}